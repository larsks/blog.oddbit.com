<!doctype html><html lang=en><head><title>Tech :: blog.oddbit.com</title><meta charset=utf-8><meta name=viewport content="width=device-width,initial-scale=1"><meta name=description content><meta name=keywords content><meta name=robots content="noodp"><link rel=canonical href=https://blog.oddbit.com/categories/tech/><script async src="https://www.googletagmanager.com/gtag/js?id=G-G1FYT93ENG"></script><script>var dnt,doNotTrack=!1;if(!1&&(dnt=navigator.doNotTrack||window.doNotTrack||navigator.msDoNotTrack,doNotTrack=dnt=="1"||dnt=="yes"),!doNotTrack){window.dataLayer=window.dataLayer||[];function gtag(){dataLayer.push(arguments)}gtag("js",new Date),gtag("config","G-G1FYT93ENG")}</script><link rel=stylesheet href=https://blog.oddbit.com/css/buttons.min.86f6b4c106b6c6eb690ae5203d36b442c1f66f718ff4e8164fa86cf6c61ad641.css><link rel=stylesheet href=https://blog.oddbit.com/css/code.min.d529ea4b2fb8d34328d7d31afc5466d5f7bc2f0bc9abdd98b69385335d7baee4.css><link rel=stylesheet href=https://blog.oddbit.com/css/fonts.min.5bb7ed13e1d00d8ff39ea84af26737007eb5051b157b86fc24487c94f3dc8bbe.css><link rel=stylesheet href=https://blog.oddbit.com/css/footer.min.eb8dfc2c6a7eafa36cd3ba92d63e69e849e2200e0002a228d137f236b09ecd75.css><link rel=stylesheet href=https://blog.oddbit.com/css/gist.min.a751e8b0abe1ba8bc53ced52a38b19d8950fe78ca29454ea8c2595cf26aad5c0.css><link rel=stylesheet href=https://blog.oddbit.com/css/header.min.75c7eb0e2872d95ff48109c6647d0223a38db52e2561dd87966eb5fc7c6bdac6.css><link rel=stylesheet href=https://blog.oddbit.com/css/main.min.36833afd348409fc6c3d09d0897c5833d9d5bf1ff31f5e60ea3ee42ce2b1268c.css><link rel=stylesheet href=https://blog.oddbit.com/css/menu.min.3c17467ebeb3d38663dce68f71f519901124fa5cbb4519b2fb0667a21e9aca39.css><link rel=stylesheet href=https://blog.oddbit.com/css/pagination.min.bbb986dbce00a5ce5aca0504b7925fc1c581992a4bf57f163e5d69cc1db7d836.css><link rel=stylesheet href=https://blog.oddbit.com/css/post.min.e6dddd258e64c83e05cec0cd49c05216742d42fc8ecbfbe6b67083412b609bd3.css><link rel=stylesheet href=https://blog.oddbit.com/css/syntax.min.a0773cce9310cb6d8ed23e50f005448facf29a53001b57e038828daa466b25c0.css><link rel=stylesheet href=https://blog.oddbit.com/css/terminal.min.e3b0c44298fc1c149afbf4c8996fb92427ae41e4649b934ca495991b7852b855.css><link rel=stylesheet href=https://blog.oddbit.com/css/terms.min.b81791663c3790e738e571cdbf802312390d30e4b1d8dc9d814a5b5454d0ac11.css><link rel=stylesheet href=https://blog.oddbit.com/style.css><link rel="shortcut icon" href=https://blog.oddbit.com/favicon.png><link rel=apple-touch-icon href=https://blog.oddbit.com/apple-touch-icon.png><meta name=twitter:card content="summary"><meta property="og:locale" content="en"><meta property="og:type" content="website"><meta property="og:title" content="Tech"><meta property="og:description" content><meta property="og:url" content="https://blog.oddbit.com/categories/tech/"><meta property="og:site_name" content="blog.oddbit.com"><meta property="og:image" content="https://blog.oddbit.com/og-image.png"><meta property="og:image:width" content="1200"><meta property="og:image:height" content="627"><link href=/categories/tech/rss.xml rel=alternate type=application/rss+xml title=blog.oddbit.com></head><body><div class="container center"><header class=header><div class=header__inner><div class=header__logo><a href=/><div class=logo>the odd bit blog</div></a></div><ul class="menu menu--mobile"><li class=menu__trigger>Menu&nbsp;▾</li><li><ul class=menu__dropdown><li><a href=/>/</a></li><li><a href=https://oddbit.com>/about</a></li><li><a href=/posts>/posts</a></li><li><a href=/tags>/tags</a></li><li><a href=/archive>/archive</a></li><li><a href=/rss.xml>/feed</a></li><li><a href=https://github.com/larsks>→Github</a></li><li><a href=https://hachyderm.io/@larsks>→Mastodon</a></li><li><a href=https://twitter.com/larsks>→Twitter</a></li></ul></li></ul></div><nav class=navigation-menu><ul class="navigation-menu__inner menu--desktop"><li><a href=/>/</a></li><li><a href=https://oddbit.com>/about</a></li><li><a href=/posts>/posts</a></li><li><a href=/tags>/tags</a></li><li><a href=/archive>/archive</a></li><li><a href=/rss.xml>/feed</a></li><li><ul class=menu><li class=menu__trigger>&nbsp;▾</li><li><ul class=menu__dropdown><li><a href=https://github.com/larsks>→Github</a></li><li><a href=https://hachyderm.io/@larsks>→Mastodon</a></li><li><a href=https://twitter.com/larsks>→Twitter</a></li></ul></li></ul></li></ul></nav></header><div class=content><h1>Posts for: #Tech</h1><div class=posts><article class="post on-list"><h1 class=post-title><a href=https://blog.oddbit.com/post/2014-01-16-stupid-openstack-tricks/>Stupid OpenStack Tricks</a></h1><div class=post-meta><time class=post-date>2014-01-16</time></div><span class=post-tags>#<a href=https://blog.oddbit.com/tags/openstack/>openstack</a>&nbsp;
#<a href=https://blog.oddbit.com/tags/tricks/>tricks</a>&nbsp;</span><div class=post-content><p>I work with several different OpenStack installations. I usually work
on the command line, sourcing in an appropriate <code>stackrc</code> with
credentials as necessary, but occasionally I want to use the dashboard
for something.</p><p>For all of the deployments with which I work, the keystone endpoint is
on the same host as the dashboard. So rather than trying to remember
which dashboard url I want for the environment I&rsquo;m currently using on
the command line, I put together this shell script:</p></div><div><a class="read-more button inline" href=/post/2014-01-16-stupid-openstack-tricks/>[read more]</a></div></article><article class="post on-list"><h1 class=post-title><a href=https://blog.oddbit.com/post/2014-01-14-direct-access-to-nova-metadata/>Direct access to Nova metadata</a></h1><div class=post-meta><time class=post-date>2014-01-14</time></div><span class=post-tags>#<a href=https://blog.oddbit.com/tags/openstack/>openstack</a>&nbsp;</span><div class=post-content><p>When you boot a virtual instance under <a href=http://www.openstack.org/>OpenStack</a>, your instance
has access to certain <a href=http://docs.openstack.org/admin-guide-cloud/content//section_metadata-service.html>instance metadata</a> via the Nova metadata service,
which is canonically available at <a href=http://169.254.169.254/>http://169.254.169.254/</a>.</p><p>In an environment running <a href=https://wiki.openstack.org/wiki/Neutron>Neutron</a>, a request from your instance
must traverse a number of steps:</p><ul><li>From the instance to a router,</li><li>Through a NAT rule in the router namespace,</li><li>To an instance of the neutron-ns-metadata-proxy,</li><li>To the actual Nova metadata service</li></ul><p>When there are problem accessing the metadata, it can be helpful to
verify that the metadata service itself is configured correctly and
returning meaningful information.</p></div><div><a class="read-more button inline" href=/post/2014-01-14-direct-access-to-nova-metadata/>[read more]</a></div></article><article class="post on-list"><h1 class=post-title><a href=https://blog.oddbit.com/post/2014-01-13-rdo-bug-triage/>RDO Bug Triage</a></h1><div class=post-meta><time class=post-date>2014-01-13</time></div><span class=post-tags>#<a href=https://blog.oddbit.com/tags/openstack/>openstack</a>&nbsp;
#<a href=https://blog.oddbit.com/tags/redhat/>redhat</a>&nbsp;</span><div class=post-content><p>This Wednesday, January 15, at 14:00 UTC (that&rsquo;s 9AM US/Eastern, or
<code>date -d "14:00 UTC"</code> in your local timezone) I will be helping out
with the
<a href=http://openstack.redhat.com/>RDO</a> <a href=http://openstack.redhat.com/RDO-BugTriage>bug triage day</a>. We&rsquo;ll be trying to validate all the
<a href=http://goo.gl/NqW2LN>untriaged bugs</a> opened against RDO.</p><p>Feel free to drop by on <code>#rdo</code> and help out or ask questions.</p></div><div><a class="read-more button inline" href=/post/2014-01-13-rdo-bug-triage/>[read more]</a></div></article><article class="post on-list"><h1 class=post-title><a href=https://blog.oddbit.com/post/2013-12-23-visualizing-network-with-graph/>Visualizing Neutron Networking with GraphViz</a></h1><div class=post-meta><time class=post-date>2013-12-23</time></div><span class=post-tags>#<a href=https://blog.oddbit.com/tags/openstack/>openstack</a>&nbsp;
#<a href=https://blog.oddbit.com/tags/neutron/>neutron</a>&nbsp;
#<a href=https://blog.oddbit.com/tags/networking/>networking</a>&nbsp;</span><div class=post-content><p>I&rsquo;ve put together a few tools to help gather information about your
Neutron and network configuration and visualize it in different ways.
All of these tools are available as part of my <a href=http://github.com/larsks/neutron-diag/>neutron-diag</a>
repository on GitHub.</p><p>In this post I&rsquo;m going to look at a tool that will help you visualize
the connectivity of network devices on your system.</p><h2 id=mk-network-dot>mk-network-dot</h2><p>There are a lot of devices involved in your Neutron network
configuration. Information originating in one of your instances has
two traverse <em>at least</em> seven network devices before seeing the light
of day. Understanding how everything connects is critical if you&rsquo;re
trying to debug problems in your envionment.</p></div><div><a class="read-more button inline" href=/post/2013-12-23-visualizing-network-with-graph/>[read more]</a></div></article><article class="post on-list"><h1 class=post-title><a href=https://blog.oddbit.com/post/2013-12-06-an-introduction-to-openstack-h/>An introduction to OpenStack Heat</a></h1><div class=post-meta><time class=post-date>2013-12-06</time></div><span class=post-tags>#<a href=https://blog.oddbit.com/tags/openstack/>openstack</a>&nbsp;
#<a href=https://blog.oddbit.com/tags/heat/>heat</a>&nbsp;
#<a href=https://blog.oddbit.com/tags/neutron/>neutron</a>&nbsp;</span><div class=post-content><p><a href=https://wiki.openstack.org/wiki/Heat>Heat</a> is a template-based orchestration mechanism for use with
OpenStack. With Heat, you can deploy collections of resources &ndash;
networks, servers, storage, and more &ndash; all from a single,
parameterized template.</p><p>In this article I will introduce Heat templates and the <code>heat</code> command
line client.</p><h2 id=writing-templates>Writing templates</h2><p>Because Heat began life as an analog of AWS <a href=http://aws.amazon.com/cloudformation/>CloudFormation</a>, it
supports the template formats used by the CloudFormation (CFN) tools.
It also supports its own native template format, called HOT (&ldquo;Heat
Orchestration Templates&rdquo;). In this article I will be using the HOT
template syntax, which is fully specified on <a href=http://docs.openstack.org/developer/heat/template_guide/hot_spec.html>the OpenStack
website</a>.</p></div><div><a class="read-more button inline" href=/post/2013-12-06-an-introduction-to-openstack-h/>[read more]</a></div></article><article class="post on-list"><h1 class=post-title><a href=https://blog.oddbit.com/post/2013-11-28-a-python-interface-to-signalfd/>A Python interface to signalfd() using FFI</a></h1><div class=post-meta><time class=post-date>2013-11-28</time></div><span class=post-tags>#<a href=https://blog.oddbit.com/tags/python/>python</a>&nbsp;</span><div class=post-content><p>I just recently learned about the <code>signalfd(2)</code> system call, which was
introduced to the Linux kernel <a href=http://lwn.net/Articles/225714/>back in 2007</a>:</p><blockquote><p>signalfd() creates a file descriptor that can be used to accept
signals targeted at the caller. This provides an alternative to
the use of a signal handler or sigwaitinfo(2), and has the
advantage that the file descriptor may be monitored by select(2),
poll(2), and epoll(7).</p></blockquote><p>The traditional asynchronous delivery mechanism can be tricky to get
right, whereas this provides a convenient fd interface that integrates
nicely with your existing event-based code.</p></div><div><a class="read-more button inline" href=/post/2013-11-28-a-python-interface-to-signalfd/>[read more]</a></div></article><article class="post on-list"><h1 class=post-title><a href=https://blog.oddbit.com/post/2013-11-23-long-polling-with-ja/>Long polling with Javascript and Python</a></h1><div class=post-meta><time class=post-date>2013-11-23</time></div><span class=post-tags>#<a href=https://blog.oddbit.com/tags/python/>python</a>&nbsp;
#<a href=https://blog.oddbit.com/tags/javascript/>javascript</a>&nbsp;
#<a href=https://blog.oddbit.com/tags/gevent/>gevent</a>&nbsp;
#<a href=https://blog.oddbit.com/tags/bottle/>bottle</a>&nbsp;
#<a href=https://blog.oddbit.com/tags/zeromq/>zeromq</a>&nbsp;
#<a href=https://blog.oddbit.com/tags/jquery/>jquery</a>&nbsp;</span><div class=post-content><p>In this post I&rsquo;m going to step through an example web chat system
implemented in Python (with <a href=http://bottlepy.org/docs/>Bottle</a> and <a href=http://www.gevent.org/>gevent</a>) that uses long
polling to implement a simple publish/subscribe mechanism for
efficiently updating connected clients.</p><p>My <a href=http://github.com/larsks/pusub_example/>pubsub_example</a> repository on <a href=http://github.com/>GitHub</a> has a complete
project that implements the ideas discussed in this article. This
project can be deployed directly on <a href=http://openshift.com/>OpenShift</a> if you want to try
things out on your own. You can also try it out online at
<a href=http://pubsub.example.oddbit.com/>http://pubsub.example.oddbit.com/</a>.</p></div><div><a class="read-more button inline" href=/post/2013-11-23-long-polling-with-ja/>[read more]</a></div></article><article class="post on-list"><h1 class=post-title><a href=https://blog.oddbit.com/post/2013-11-23-openshift-socket-pro/>Sockets on OpenShift</a></h1><div class=post-meta><time class=post-date>2013-11-23</time></div><span class=post-tags>#<a href=https://blog.oddbit.com/tags/openshift/>openshift</a>&nbsp;
#<a href=https://blog.oddbit.com/tags/javascript/>javascript</a>&nbsp;</span><div class=post-content><p>In this article, a followup to my <a href=https://blog.oddbit.com/post/2013-11-23-long-polling-with-ja/>previous post</a> regarding
long-poll servers and Python, we investigate the code changes that
were necessary to make the code work when deployed on OpenShift.</p><p>In the previous post, we implemented IO polling to watch for client
disconnects at the same time we were waiting for messages on a message
bus:</p><pre><code>poll = zmq.Poller()
poll.register(subsock, zmq.POLLIN)
poll.register(rfile, zmq.POLLIN)

events = dict(poll.poll())

.
.
.
</code></pre><p>If you were to try this at home, you would find that everything worked
as described&mldr;but if you were to deploy the same code to OpenShift,
you would find that the problem we were trying to solve (the server
holding file descriptors open after a client disconnected) would still
exist.</p></div><div><a class="read-more button inline" href=/post/2013-11-23-openshift-socket-pro/>[read more]</a></div></article><article class="post on-list"><h1 class=post-title><a href=https://blog.oddbit.com/post/2013-11-22-a-unified-cli-for-op/>A unified CLI for OpenStack</a></h1><div class=post-meta><time class=post-date>2013-11-22</time></div><span class=post-tags>#<a href=https://blog.oddbit.com/tags/openstack/>openstack</a>&nbsp;</span><div class=post-content><p>The <a href=https://github.com/openstack/python-openstackclient>python-openstackclient</a> project, by <a href=https://github.com/dtroyer>Dean Troyer</a> and
others, is a new command line tool to replace the existing command
line clients (including commands such as <code>nova</code>, <code>keystone</code>, <code>cinder</code>,
etc).</p><p>This tool solves two problems I&rsquo;ve encountered in the past:</p><ul><li><p>Command line options between different command line clients are
sometimes inconsistent.</p></li><li><p>The output from the legacy command line tools is not designed to be
machine parse-able (and yet people <a href=https://github.com/openstack/python-openstackclient>do it anyway</a>).</p></li></ul><p>The new <code>openstack</code> CLI framework is implement using the <a href=https://github.com/dreamhost/cliff>cliff</a>
module for Python, which will help enforce a consistent interface to
the various subcommands (because common options can be shared, and
just having everything in the same codebase will help tremendously).
Cliff also provides flexible table formatters. It includes a number
of useful formatters out of the box, and can be extended via
setuptools entry points.</p></div><div><a class="read-more button inline" href=/post/2013-11-22-a-unified-cli-for-op/>[read more]</a></div></article><article class="post on-list"><h1 class=post-title><a href=https://blog.oddbit.com/post/2013-11-22-automatic-maintenanc/>Automatic maintenance of tag feeds</a></h1><div class=post-meta><time class=post-date>2013-11-22</time></div><span class=post-tags>#<a href=https://blog.oddbit.com/tags/blog/>blog</a>&nbsp;
#<a href=https://blog.oddbit.com/tags/git/>git</a>&nbsp;</span><div class=post-content><p>I recently added some scripts to automatically generate tag feeds for
my blog when pushing new content. I&rsquo;m using GitHub Pages to publish
everything, so it seemed easiest to make tag generation part of a
<code>pre-push</code> hook (new in Git 1.8.2). This hook is run automatically as
part of the <code>git push</code> operation, so it&rsquo;s the perfect place to insert
generated content that must be kept in sync with posts on the blog.</p></div><div><a class="read-more button inline" href=/post/2013-11-22-automatic-maintenanc/>[read more]</a></div></article><div class=pagination><div class=pagination__buttons><a href=/categories/tech/page/15/ class="button inline prev">&lt; [<span class=button__text>Newer posts</span>]
</a>::
<a href=/categories/tech/page/17/ class="button inline next">[<span class=button__text>Older posts</span>] ></a></div></div></div></div><footer class=footer><div class=footer__inner><div class="copyright copyright--user"><span>Lars Kellogg-Stedman</span>
<span>:: <a href=https://github.com/panr/hugo-theme-terminal target=_blank>Theme</a> made by <a href=https://github.com/panr target=_blank>panr</a></span></div></div></footer><script type=text/javascript src=/bundle.min.js></script><script src=/js/mermaid.min.js></script><script>mermaid.initialize({startOnLoad:!0})</script></div></body></html>