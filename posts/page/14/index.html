<!doctype html><html lang=en><head><title>:: blog.oddbit.com</title><meta charset=utf-8><meta name=viewport content="width=device-width,initial-scale=1"><meta name=description content><meta name=keywords content><meta name=robots content="noodp"><link rel=canonical href=https://blog.oddbit.com/posts/><script async src="https://www.googletagmanager.com/gtag/js?id=G-G1FYT93ENG"></script>
<script>var doNotTrack=!1;if(!doNotTrack){window.dataLayer=window.dataLayer||[];function gtag(){dataLayer.push(arguments)}gtag("js",new Date),gtag("config","G-G1FYT93ENG",{anonymize_ip:!1})}</script><link rel=stylesheet href=https://blog.oddbit.com/styles.css><link rel=stylesheet href=https://blog.oddbit.com/style.css><link rel="shortcut icon" href=https://blog.oddbit.com/img/theme-colors/orange.png><link rel=apple-touch-icon href=https://blog.oddbit.com/img/theme-colors/orange.png><meta name=twitter:card content="summary"><meta property="og:locale" content="en"><meta property="og:type" content="website"><meta property="og:title" content><meta property="og:description" content><meta property="og:url" content="https://blog.oddbit.com/posts/"><meta property="og:site_name" content="blog.oddbit.com"><meta property="og:image" content="https://blog.oddbit.com/img/favicon/orange.png"><meta property="og:image:width" content="1200"><meta property="og:image:height" content="627"><link href=/posts/rss.xml rel=alternate type=application/rss+xml title=blog.oddbit.com></head><body class=orange><div class="container center headings--one-size"><header class=header><div class=header__inner><div class=header__logo><a href=/><div class=logo>the odd bit blog</div></a></div><ul class="menu menu--mobile"><li class=menu__trigger>Menu&nbsp;▾</li><li><ul class=menu__dropdown><li><a href=/>/</a></li><li><a href=https://oddbit.com>/about</a></li><li><a href=/posts>/posts</a></li><li><a href=/tags>/tags</a></li><li><a href=/archive>/archive</a></li><li><a href=/rss.xml>/feed</a></li><li><a href=https://github.com/larsks>→Github</a></li><li><a href=https://hachyderm.io/@larsks>→Mastodon</a></li><li><a href=https://twitter.com/larsks>→Twitter</a></li></ul></li></ul></div><nav class=navigation-menu><ul class="navigation-menu__inner menu--desktop"><li><a href=/>/</a></li><li><a href=https://oddbit.com>/about</a></li><li><a href=/posts>/posts</a></li><li><a href=/tags>/tags</a></li><li><a href=/archive>/archive</a></li><li><a href=/rss.xml>/feed</a></li><li><ul class=menu><li class=menu__trigger>&nbsp;▾</li><li><ul class=menu__dropdown><li><a href=https://github.com/larsks>→Github</a></li><li><a href=https://hachyderm.io/@larsks>→Mastodon</a></li><li><a href=https://twitter.com/larsks>→Twitter</a></li></ul></li></ul></li></ul></nav></header><div class=content><div class=posts><article class="post on-list"><h1 class=post-title><a href=https://blog.oddbit.com/post/2018-02-27-listening-for-connections-on-a/>Listening for connections on all ports/any port</a></h1><div class=post-meta><time class=post-date>2018-02-27 ::</time></div><span class=post-tags>#<a href=https://blog.oddbit.com/tags/networking/>networking</a>&nbsp;</span><div class=post-content>On IRC – and other online communities – it is common to use a “pastebin” service to share snippets of code, logs, and other material, rather than pasting them directly into a conversation. These services will typically return a URL that you can share with others so that they can see the content in their browser.
One of my favorite pastebin services is termbin.com, because it works from the command line using tools you probably already have installed.</div><div><a class="read-more button" href=/post/2018-02-27-listening-for-connections-on-a/>read more →</a></div></article><article class="post on-list"><h1 class=post-title><a href=https://blog.oddbit.com/post/2018-02-26-grouping-aggregation-queries-i/>Grouping aggregation queries in Gnocchi 4.0.x</a></h1><div class=post-meta><time class=post-date>2018-02-26 ::</time></div><span class=post-tags>#<a href=https://blog.oddbit.com/tags/openstack/>openstack</a>&nbsp;
#<a href=https://blog.oddbit.com/tags/gnocchi/>gnocchi</a>&nbsp;
#<a href=https://blog.oddbit.com/tags/metrics/>metrics</a>&nbsp;</span><div class=post-content>In this article, we’re going to ask Gnocchi (the OpenStack telemetry storage service) how much memory was used, on average, over the course of each day by each project in an OpenStack environment.
Environment I’m working with an OpenStack “Pike” deployment, which means I have Gnocchi 4.0.x. More recent versions of Gnocchi (4.1.x and later) have a new aggregation API called dynamic aggregates, but that isn’t available in 4.0.x so in this article we’ll be using the legacy /v1/aggregations API.</div><div><a class="read-more button" href=/post/2018-02-26-grouping-aggregation-queries-i/>read more →</a></div></article><article class="post on-list"><h1 class=post-title><a href=https://blog.oddbit.com/post/2018-02-08-listing-iptables-rules-with-li/>Listing iptables rules with line numbers</a></h1><div class=post-meta><time class=post-date>2018-02-08 ::</time></div><span class=post-tags>#<a href=https://blog.oddbit.com/tags/shell/>shell</a>&nbsp;
#<a href=https://blog.oddbit.com/tags/iptables/>iptables</a>&nbsp;</span><div class=post-content>You can list iptables rules with rule numbers using the &ndash;line-numbers option, but this only works in list (-L) mode. I find it much more convenient to view rules using the output from iptables -S or iptables-save.
You can augment the output from these commands with rule numbers with the following awk script:
#!/bin/awk -f state == 0 && /^-A/ {state=1; chain=$2; counter=1; printf "\n"} state == 1 && $2 !</div><div><a class="read-more button" href=/post/2018-02-08-listing-iptables-rules-with-li/>read more →</a></div></article><article class="post on-list"><h1 class=post-title><a href=https://blog.oddbit.com/post/2018-01-26-pelican-theme-update/>Pelican and theme update</a></h1><div class=post-meta><time class=post-date>2018-01-26 ::</time></div><span class=post-tags>#<a href=https://blog.oddbit.com/tags/administrivia/>administrivia</a>&nbsp;</span><div class=post-content>I’ve just refreshed the version of Pelican used to generate this blog, along with the associated themes and plugins. It all seems to be working, but if you spot a problem feel free to drop me a line.</div><div><a class="read-more button" href=/post/2018-01-26-pelican-theme-update/>read more →</a></div></article><article class="post on-list"><h1 class=post-title><a href=https://blog.oddbit.com/post/2018-01-25-fun-with-devicemapper-snapshot/>Fun with devicemapper snapshots</a></h1><div class=post-meta><time class=post-date>2018-01-25 ::</time></div><span class=post-tags>#<a href=https://blog.oddbit.com/tags/storage/>storage</a>&nbsp;
#<a href=https://blog.oddbit.com/tags/devicemapper/>devicemapper</a>&nbsp;</span><div class=post-content>I find myself working with Raspbian disk images fairly often. A typical workflow is:
Download the disk image. Mount the filesystem somewhere to check something. Make some changes or install packages just to check something else. Crap I’ve made changes. …at which point I need to fetch a new copy of the image next time I want to start fresh.
Sure, I could just make a copy of the image and work from there, but what fun is that?</div><div><a class="read-more button" href=/post/2018-01-25-fun-with-devicemapper-snapshot/>read more →</a></div></article><div class=pagination><div class=pagination__buttons><a href=/posts/page/13/ class="button previous"><span class=button__icon>←</span>
<span class=button__text>Newer posts</span></a>
<a href=/posts/page/15/ class="button next"><span class=button__text>Older posts</span>
<span class=button__icon>→</span></a></div></div></div></div><footer class=footer><div class=footer__inner><div class="copyright copyright--user"><span>Lars Kellogg-Stedman</span>
<span>:: <a href=https://github.com/panr/hugo-theme-terminal target=_blank>Theme</a> made by <a href=https://github.com/panr target=_blank>panr</a></span></div></div></footer><script type=text/javascript src=/bundle.min.js></script>
<script src=/js/mermaid.min.js></script>
<script>mermaid.initialize({startOnLoad:!0})</script></div></body></html>