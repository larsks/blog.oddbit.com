<!doctype html><html lang=en><head><title>:: blog.oddbit.com</title><meta charset=utf-8><meta name=viewport content="width=device-width,initial-scale=1"><meta name=description content><meta name=keywords content><meta name=robots content="noodp"><link rel=canonical href=https://blog.oddbit.com/posts/><script async src="https://www.googletagmanager.com/gtag/js?id=G-G1FYT93ENG"></script><script>var dnt,doNotTrack=!1;if(!1&&(dnt=navigator.doNotTrack||window.doNotTrack||navigator.msDoNotTrack,doNotTrack=dnt=="1"||dnt=="yes"),!doNotTrack){window.dataLayer=window.dataLayer||[];function gtag(){dataLayer.push(arguments)}gtag("js",new Date),gtag("config","G-G1FYT93ENG")}</script><link rel=stylesheet href=https://blog.oddbit.com/css/buttons.min.86f6b4c106b6c6eb690ae5203d36b442c1f66f718ff4e8164fa86cf6c61ad641.css><link rel=stylesheet href=https://blog.oddbit.com/css/code.min.d529ea4b2fb8d34328d7d31afc5466d5f7bc2f0bc9abdd98b69385335d7baee4.css><link rel=stylesheet href=https://blog.oddbit.com/css/fonts.min.5bb7ed13e1d00d8ff39ea84af26737007eb5051b157b86fc24487c94f3dc8bbe.css><link rel=stylesheet href=https://blog.oddbit.com/css/footer.min.eb8dfc2c6a7eafa36cd3ba92d63e69e849e2200e0002a228d137f236b09ecd75.css><link rel=stylesheet href=https://blog.oddbit.com/css/gist.min.a751e8b0abe1ba8bc53ced52a38b19d8950fe78ca29454ea8c2595cf26aad5c0.css><link rel=stylesheet href=https://blog.oddbit.com/css/header.min.75c7eb0e2872d95ff48109c6647d0223a38db52e2561dd87966eb5fc7c6bdac6.css><link rel=stylesheet href=https://blog.oddbit.com/css/main.min.36833afd348409fc6c3d09d0897c5833d9d5bf1ff31f5e60ea3ee42ce2b1268c.css><link rel=stylesheet href=https://blog.oddbit.com/css/menu.min.3c17467ebeb3d38663dce68f71f519901124fa5cbb4519b2fb0667a21e9aca39.css><link rel=stylesheet href=https://blog.oddbit.com/css/pagination.min.bbb986dbce00a5ce5aca0504b7925fc1c581992a4bf57f163e5d69cc1db7d836.css><link rel=stylesheet href=https://blog.oddbit.com/css/post.min.e6dddd258e64c83e05cec0cd49c05216742d42fc8ecbfbe6b67083412b609bd3.css><link rel=stylesheet href=https://blog.oddbit.com/css/syntax.min.a0773cce9310cb6d8ed23e50f005448facf29a53001b57e038828daa466b25c0.css><link rel=stylesheet href=https://blog.oddbit.com/css/terminal.min.e3b0c44298fc1c149afbf4c8996fb92427ae41e4649b934ca495991b7852b855.css><link rel=stylesheet href=https://blog.oddbit.com/css/terms.min.b81791663c3790e738e571cdbf802312390d30e4b1d8dc9d814a5b5454d0ac11.css><link rel=stylesheet href=https://blog.oddbit.com/style.css><link rel="shortcut icon" href=https://blog.oddbit.com/favicon.png><link rel=apple-touch-icon href=https://blog.oddbit.com/apple-touch-icon.png><meta name=twitter:card content="summary"><meta property="og:locale" content="en"><meta property="og:type" content="website"><meta property="og:title" content><meta property="og:description" content><meta property="og:url" content="https://blog.oddbit.com/posts/"><meta property="og:site_name" content="blog.oddbit.com"><meta property="og:image" content="https://blog.oddbit.com/og-image.png"><meta property="og:image:width" content="1200"><meta property="og:image:height" content="627"><link href=/posts/rss.xml rel=alternate type=application/rss+xml title=blog.oddbit.com></head><body><div class="container center"><header class=header><div class=header__inner><div class=header__logo><a href=/><div class=logo>the odd bit blog</div></a></div><ul class="menu menu--mobile"><li class=menu__trigger>Menu&nbsp;▾</li><li><ul class=menu__dropdown><li><a href=/>/</a></li><li><a href=https://oddbit.com>/about</a></li><li><a href=/posts>/posts</a></li><li><a href=/tags>/tags</a></li><li><a href=/archive>/archive</a></li><li><a href=/rss.xml>/feed</a></li><li><a href=https://github.com/larsks>→Github</a></li><li><a href=https://hachyderm.io/@larsks>→Mastodon</a></li><li><a href=https://twitter.com/larsks>→Twitter</a></li></ul></li></ul></div><nav class=navigation-menu><ul class="navigation-menu__inner menu--desktop"><li><a href=/>/</a></li><li><a href=https://oddbit.com>/about</a></li><li><a href=/posts>/posts</a></li><li><a href=/tags>/tags</a></li><li><a href=/archive>/archive</a></li><li><a href=/rss.xml>/feed</a></li><li><ul class=menu><li class=menu__trigger>&nbsp;▾</li><li><ul class=menu__dropdown><li><a href=https://github.com/larsks>→Github</a></li><li><a href=https://hachyderm.io/@larsks>→Mastodon</a></li><li><a href=https://twitter.com/larsks>→Twitter</a></li></ul></li></ul></li></ul></nav></header><div class=content><div class=posts><article class="post on-list"><h2 class=post-title><a href=https://blog.oddbit.com/post/2015-07-16-mapping-local-users-to-kerbero/>Mapping local users to Kerberos principals with SSSD</a></h2><div class=post-meta><time class=post-date>2015-07-16</time></div><span class=post-tags>#<a href=https://blog.oddbit.com/tags/sssd/>sssd</a>&nbsp;
#<a href=https://blog.oddbit.com/tags/kerberos/>kerberos</a>&nbsp;</span><div class=post-content><p>I work for an organization that follows the common model of assigning
people systematically generated user ids. Like most technically
inclined employees of this organization, I have local accounts on my
workstation that don&rsquo;t bear any relation to the generated account ids.
For the most part this isn&rsquo;t a problem, except that our organization
uses Kerberos to authenticate access to a variety of resources (such
as the mailserver and a variety of web applications).</p></div><div><a class="read-more button inline" href=/post/2015-07-16-mapping-local-users-to-kerbero/>[read more]</a></div></article><article class="post on-list"><h2 class=post-title><a href=https://blog.oddbit.com/post/2015-06-26-openstack-networking-without-d/>OpenStack Networking without DHCP</a></h2><div class=post-meta><time class=post-date>2015-06-26</time></div><span class=post-tags>#<a href=https://blog.oddbit.com/tags/openstack/>openstack</a>&nbsp;
#<a href=https://blog.oddbit.com/tags/nova/>nova</a>&nbsp;
#<a href=https://blog.oddbit.com/tags/neutron/>neutron</a>&nbsp;
#<a href=https://blog.oddbit.com/tags/cloud-init/>cloud-init</a>&nbsp;</span><div class=post-content><p>In an OpenStack environment, <a href=https://cloudinit.readthedocs.org/en/latest/>cloud-init</a> generally fetches
information from the metadata service provided by Nova. It also has
support for reading this information from a <em>configuration drive</em>,
which under OpenStack means a virtual CD-ROM device attached to your
instance containing the same information that would normally be
available via the metadata service.</p><p>It is possible to generate your network configuration from this
configuration drive, rather than relying on the DHCP server provided
by your OpenStack environment. In order to do this you will need to
make the following changes to your Nova configuration:</p></div><div><a class="read-more button inline" href=/post/2015-06-26-openstack-networking-without-d/>[read more]</a></div></article><article class="post on-list"><h2 class=post-title><a href=https://blog.oddbit.com/post/2015-06-19-heatkubernetes-demo-with-autos/>Heat-kubernetes Demo with Autoscaling</a></h2><div class=post-meta><time class=post-date>2015-06-19</time></div><span class=post-tags>#<a href=https://blog.oddbit.com/tags/openstack/>openstack</a>&nbsp;
#<a href=https://blog.oddbit.com/tags/heat/>heat</a>&nbsp;
#<a href=https://blog.oddbit.com/tags/kubernetes/>kubernetes</a>&nbsp;
#<a href=https://blog.oddbit.com/tags/atomic/>atomic</a>&nbsp;
#<a href=https://blog.oddbit.com/tags/docker/>docker</a>&nbsp;</span><div class=post-content><p>Next week is the <a href=http://www.redhat.com/summit/>Red Hat Summit</a> in Boston, and I&rsquo;ll be taking part
in a <a href=http://www.projectatomic.io/>Project Atomic</a> presentation in which I will discuss various
(well, two) options for deploying Atomic into an OpenStack
environment, focusing on my <a href=https://github.com/projectatomic/heat-kubernetes/>heat-kubernetes</a> templates.</p><p>As part of that presentation, I&rsquo;ve put together a short demonstration video:</p><div style=position:relative;padding-bottom:56.25%;height:0;overflow:hidden><iframe allow="accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture; web-share; fullscreen" loading=eager referrerpolicy=strict-origin-when-cross-origin src="https://www.youtube.com/embed/tS5X0qi04ZU?autoplay=0&amp;controls=1&amp;end=0&amp;loop=0&amp;mute=0&amp;start=0" style=position:absolute;top:0;left:0;width:100%;height:100%;border:0 title="YouTube video"></iframe></div><p>This shows off the autoscaling behavior available with recent versions
of these templates (and also serves as a very brief introduction to
working with Kubernetes).</p></div><div><a class="read-more button inline" href=/post/2015-06-19-heatkubernetes-demo-with-autos/>[read more]</a></div></article><article class="post on-list"><h2 class=post-title><a href=https://blog.oddbit.com/post/2015-05-08-git-ssl-cipher-list/>Teach git about GIT_SSL_CIPHER_LIST</a></h2><div class=post-meta><time class=post-date>2015-05-08</time></div><span class=post-tags>#<a href=https://blog.oddbit.com/tags/git/>git</a>&nbsp;
#<a href=https://blog.oddbit.com/tags/pull-request/>pull-request</a>&nbsp;</span><div class=post-content><p>Someone named <a href=https://stackoverflow.com/users/4713895/hithard>hithard</a> on <a href=https://stackoverflow.com/>StackOverflow</a> was trying to clone a git repository via https, and was <a href=https://stackoverflow.com/a/30090725/147356>running into an odd error</a>: &ldquo;Cannot communicate securely with peer: no common encryption algorithm(s).&rdquo;. This was due to the fact that the server (<code>openhatch.org</code>) was configured to use a cipher suite that was not supported by default in the underlying SSL library (which could be either <a href=https://www.openssl.org/>OpenSSL</a> or <a href=https://developer.mozilla.org/en-US/docs/Mozilla/Projects/NSS>NSS</a>, depending on how git was built).</p><p>Many applications allow the user to configure an explicit list of ciphers to consider when negotiating a secure connection. For example, <a href=https://curl.haxx.se/>curl</a> has the <a href=https://curl.haxx.se/libcurl/c/CURLOPT_SSL_CIPHER_LIST.html>CURLOPT_SSL_CIPHER_LIST</a> option. This turns out to be especially relevant because git relies on <a href=https://curl.haxx.se/libcurl/>libcurl</a> for all of its http operations, which means all we need to do is (a) create a new configuration option for git, and then (b) pass that value through to libcurl.</p></div><div><a class="read-more button inline" href=/post/2015-05-08-git-ssl-cipher-list/>[read more]</a></div></article><article class="post on-list"><h2 class=post-title><a href=https://blog.oddbit.com/post/2015-04-27-suggestions-for-the-docker-mai/>Suggestions for the Docker MAINTAINER directive</a></h2><div class=post-meta><time class=post-date>2015-04-27</time></div><span class=post-tags>#<a href=https://blog.oddbit.com/tags/docker/>docker</a>&nbsp;</span><div class=post-content><p>Because nobody asked for it, this is my opinion on the use of the
<code>MAINTAINER</code> directive in your Dockerfiles.</p><p>The <a href=https://docs.docker.com/reference/builder/#maintainer>documentation</a> says simply:</p><pre><code>The MAINTAINER instruction allows you to set the Author field of the generated images.
</code></pre><p>Many people end up putting the name and email address of an actual
person here. I think this is ultimately a bad idea, and does a
disservice both to members of a project that produce Docker images and
to people consuming those images.</p></div><div><a class="read-more button inline" href=/post/2015-04-27-suggestions-for-the-docker-mai/>[read more]</a></div></article><article class="post on-list"><h2 class=post-title><a href=https://blog.oddbit.com/post/2015-04-10-workinghours-time-shifting-git/>Using tools badly: time shifting git commits with Workinghours</a></h2><div class=post-meta><time class=post-date>2015-04-10</time></div><span class=post-tags>#<a href=https://blog.oddbit.com/tags/git/>git</a>&nbsp;
#<a href=https://blog.oddbit.com/tags/hack/>hack</a>&nbsp;
#<a href=https://blog.oddbit.com/tags/bad_ideas/>bad_ideas</a>&nbsp;</span><div class=post-content><p>This is a terrible hack. If you are easily offended by bad ideas
implemented poorly, move along!</p><p>You are working on a wonderful open source project&mldr;but you are not
<em>supposed</em> to be working on that project! You&rsquo;re supposed to be doing
your <em>real</em> work! Unfortunately, your extra-curricular activity is
well documented in the git history of your project for all to see:</p><p><img src=/post/2015-04-10-workinghours-time-shifting-git/repo-before.png alt="Heatmap of original commit history"></p><p>And now your boss knows why the TPS reports are late. You need
<a href=https://github.com/larsks/workinghours.git>workinghours</a>, a terrible utility for doing awful things to your
repository history. <a href=https://github.com/larsks/workinghours.git>Workinghours</a> will programatically time shift
your git commits so that they appear to have happened within specified
time intervals (for example, &ldquo;between 7PM and midnight&rdquo;).</p></div><div><a class="read-more button inline" href=/post/2015-04-10-workinghours-time-shifting-git/>[read more]</a></div></article><article class="post on-list"><h2 class=post-title><a href=https://blog.oddbit.com/post/2015-03-10-booting-cloud-images-with-libv/>Booting cloud images with libvirt</a></h2><div class=post-meta><time class=post-date>2015-03-10</time></div><span class=post-tags>#<a href=https://blog.oddbit.com/tags/fedora/>fedora</a>&nbsp;
#<a href=https://blog.oddbit.com/tags/cloud-init/>cloud-init</a>&nbsp;</span><div class=post-content><p>Most major distributions now provide &ldquo;cloud-enabled&rdquo; images designed
for use in cloud environments like OpenStack and AWS. These images
are usually differentiated by (a) being relatively small, and (b) running
<a href=http://cloudinit.readthedocs.org/>cloud-init</a> at boot to perform initial system configuration tasks
using metadata provided by the cloud environment.</p><p>Because of their small size and support for automatic configuration
(including such useful tasks as provisioning ssh keys), these images
are attractive for use <em>outside</em> of a cloud environment.
Unfortunately, when people first try to boot them they are met with
frustration as first the image takes forever to boot as it tries to
contact a non-existent metadata service, and then when it finally does
boot they are unable to log in because the images typically only
support key-based login.</p></div><div><a class="read-more button inline" href=/post/2015-03-10-booting-cloud-images-with-libv/>[read more]</a></div></article><article class="post on-list"><h2 class=post-title><a href=https://blog.oddbit.com/post/2015-03-09-diagnosing-problems-with-an-op/>Diagnosing problems with an OpenStack deployment</a></h2><div class=post-meta><time class=post-date>2015-03-09</time></div><span class=post-tags>#<a href=https://blog.oddbit.com/tags/openstack/>openstack</a>&nbsp;
</span><img src=/post/2015-03-09-diagnosing-problems-with-an-op/lucy.jpg class=post-cover alt="Diagnosing problems with an OpenStack deployment" title="Cover Image"><div class=post-content><p>I recently had the chance to help a colleague debug some problems in
his OpenStack installation. The environment was unique because it was
booting virtualized <a href=https://fedoraproject.org/wiki/Architectures/AArch64>aarch64</a> instances, which at the time did not
have any PCI bus support&mldr;which in turn precluded things like graphic
consoles (i.e., VNC or SPICE consoles) for the Nova instances.</p><p>This post began life as an email summarizing the various configuration
changes we made on the systems to get things up and running. After
writing it, I decided it presented an interesting summary of some
common (and maybe not-so-common) issues, so I am posting it here in
the hopes that other folks will find it interesting.</p></div><div><a class="read-more button inline" href=/post/2015-03-09-diagnosing-problems-with-an-op/>[read more]</a></div></article><article class="post on-list"><h2 class=post-title><a href=https://blog.oddbit.com/post/2015-03-08-converting-hexadecimal-ip-addr/>Converting hexadecimal ip addresses to dotted quads with Bash</a></h2><div class=post-meta><time class=post-date>2015-03-08</time></div><span class=post-tags>#<a href=https://blog.oddbit.com/tags/bash/>bash</a>&nbsp;
#<a href=https://blog.oddbit.com/tags/docker/>docker</a>&nbsp;</span><div class=post-content><p>This is another post that is primarily for my own benefit for the next
time I forget how to do this.</p><p>I wanted to read routing information directly from <code>/proc/net/route</code>
using <code>bash</code>, because you never know what may or may not be available
in the minimal environment of a Docker container (for example, the
<code>iproute</code> package is not installed by default in the Fedora Docker
images). The contents of <code>/proc/net/route</code> looks something like:</p></div><div><a class="read-more button inline" href=/post/2015-03-08-converting-hexadecimal-ip-addr/>[read more]</a></div></article><article class="post on-list"><h2 class=post-title><a href=https://blog.oddbit.com/post/2015-02-24-visualizing-pacemaker-constrai/>Visualizing Pacemaker resource constraints</a></h2><div class=post-meta><time class=post-date>2015-02-24</time></div><span class=post-tags>#<a href=https://blog.oddbit.com/tags/pacemaker/>pacemaker</a>&nbsp;
#<a href=https://blog.oddbit.com/tags/visualization/>visualization</a>&nbsp;</span><div class=post-content><p>If a picture is worth a thousand words, then code that generates
pictures from words is worth&mldr;uh, anyway, I wrote a script that
produces <a href=http://en.wikipedia.org/wiki/DOT_%28graph_description_language%29>dot</a> output from Pacemaker start and colocation
constraints:</p><p><a href=https://github.com/larsks/pacemaker-tools/>https://github.com/larsks/pacemaker-tools/</a></p><p>You can pass this output to <a href=http://www.graphviz.org/>graphviz</a> to create visualizations of
your Pacemaker resource constraints.</p><p>The <code>graph-constraints.py</code> script in that repository consumes the
output of <code>cibadmin -Q</code> and can produce output for either start
constraints (<code>-S</code>, the default) or colocation constraints (<code>-C</code>).</p></div><div><a class="read-more button inline" href=/post/2015-02-24-visualizing-pacemaker-constrai/>[read more]</a></div></article><div class=pagination><div class=pagination__buttons><a href=/posts/page/10/ class="button inline prev">&lt; [<span class=button__text>Newer posts</span>]
</a>::
<a href=/posts/page/12/ class="button inline next">[<span class=button__text>Older posts</span>] ></a></div></div></div></div><footer class=footer><div class=footer__inner><div class="copyright copyright--user"><span>Lars Kellogg-Stedman</span>
<span>:: <a href=https://github.com/panr/hugo-theme-terminal target=_blank>Theme</a> made by <a href=https://github.com/panr target=_blank>panr</a></span></div></div></footer><script type=text/javascript src=/bundle.min.js></script><script src=/js/mermaid.min.js></script><script>mermaid.initialize({startOnLoad:!0})</script></div></body></html>