<!doctype html><html lang=en><head><title>:: blog.oddbit.com</title><meta charset=utf-8><meta name=viewport content="width=device-width,initial-scale=1"><meta name=description content><meta name=keywords content><meta name=robots content="noodp"><link rel=canonical href=https://blog.oddbit.com/posts/><script async src="https://www.googletagmanager.com/gtag/js?id=G-G1FYT93ENG"></script><script>var dnt,doNotTrack=!1;if(!1&&(dnt=navigator.doNotTrack||window.doNotTrack||navigator.msDoNotTrack,doNotTrack=dnt=="1"||dnt=="yes"),!doNotTrack){window.dataLayer=window.dataLayer||[];function gtag(){dataLayer.push(arguments)}gtag("js",new Date),gtag("config","G-G1FYT93ENG")}</script><link rel=stylesheet href=https://blog.oddbit.com/css/buttons.min.86f6b4c106b6c6eb690ae5203d36b442c1f66f718ff4e8164fa86cf6c61ad641.css><link rel=stylesheet href=https://blog.oddbit.com/css/code.min.d529ea4b2fb8d34328d7d31afc5466d5f7bc2f0bc9abdd98b69385335d7baee4.css><link rel=stylesheet href=https://blog.oddbit.com/css/fonts.min.5bb7ed13e1d00d8ff39ea84af26737007eb5051b157b86fc24487c94f3dc8bbe.css><link rel=stylesheet href=https://blog.oddbit.com/css/footer.min.eb8dfc2c6a7eafa36cd3ba92d63e69e849e2200e0002a228d137f236b09ecd75.css><link rel=stylesheet href=https://blog.oddbit.com/css/gist.min.a751e8b0abe1ba8bc53ced52a38b19d8950fe78ca29454ea8c2595cf26aad5c0.css><link rel=stylesheet href=https://blog.oddbit.com/css/header.min.75c7eb0e2872d95ff48109c6647d0223a38db52e2561dd87966eb5fc7c6bdac6.css><link rel=stylesheet href=https://blog.oddbit.com/css/main.min.36833afd348409fc6c3d09d0897c5833d9d5bf1ff31f5e60ea3ee42ce2b1268c.css><link rel=stylesheet href=https://blog.oddbit.com/css/menu.min.3c17467ebeb3d38663dce68f71f519901124fa5cbb4519b2fb0667a21e9aca39.css><link rel=stylesheet href=https://blog.oddbit.com/css/pagination.min.bbb986dbce00a5ce5aca0504b7925fc1c581992a4bf57f163e5d69cc1db7d836.css><link rel=stylesheet href=https://blog.oddbit.com/css/post.min.e6dddd258e64c83e05cec0cd49c05216742d42fc8ecbfbe6b67083412b609bd3.css><link rel=stylesheet href=https://blog.oddbit.com/css/syntax.min.a0773cce9310cb6d8ed23e50f005448facf29a53001b57e038828daa466b25c0.css><link rel=stylesheet href=https://blog.oddbit.com/css/terminal.min.e3b0c44298fc1c149afbf4c8996fb92427ae41e4649b934ca495991b7852b855.css><link rel=stylesheet href=https://blog.oddbit.com/css/terms.min.b81791663c3790e738e571cdbf802312390d30e4b1d8dc9d814a5b5454d0ac11.css><link rel=stylesheet href=https://blog.oddbit.com/style.css><link rel="shortcut icon" href=https://blog.oddbit.com/favicon.png><link rel=apple-touch-icon href=https://blog.oddbit.com/apple-touch-icon.png><meta name=twitter:card content="summary"><meta property="og:locale" content="en"><meta property="og:type" content="website"><meta property="og:title" content><meta property="og:description" content><meta property="og:url" content="https://blog.oddbit.com/posts/"><meta property="og:site_name" content="blog.oddbit.com"><meta property="og:image" content="https://blog.oddbit.com/og-image.png"><meta property="og:image:width" content="1200"><meta property="og:image:height" content="627"><link href=/posts/rss.xml rel=alternate type=application/rss+xml title=blog.oddbit.com></head><body><div class="container center"><header class=header><div class=header__inner><div class=header__logo><a href=/><div class=logo>the odd bit blog</div></a></div><ul class="menu menu--mobile"><li class=menu__trigger>Menu&nbsp;▾</li><li><ul class=menu__dropdown><li><a href=/>/</a></li><li><a href=https://oddbit.com>/about</a></li><li><a href=/posts>/posts</a></li><li><a href=/tags>/tags</a></li><li><a href=/archive>/archive</a></li><li><a href=/rss.xml>/feed</a></li><li><a href=https://github.com/larsks>→Github</a></li><li><a href=https://hachyderm.io/@larsks>→Mastodon</a></li><li><a href=https://twitter.com/larsks>→Twitter</a></li></ul></li></ul></div><nav class=navigation-menu><ul class="navigation-menu__inner menu--desktop"><li><a href=/>/</a></li><li><a href=https://oddbit.com>/about</a></li><li><a href=/posts>/posts</a></li><li><a href=/tags>/tags</a></li><li><a href=/archive>/archive</a></li><li><a href=/rss.xml>/feed</a></li><li><ul class=menu><li class=menu__trigger>&nbsp;▾</li><li><ul class=menu__dropdown><li><a href=https://github.com/larsks>→Github</a></li><li><a href=https://hachyderm.io/@larsks>→Mastodon</a></li><li><a href=https://twitter.com/larsks>→Twitter</a></li></ul></li></ul></li></ul></nav></header><div class=content><div class=posts><article class="post on-list"><h2 class=post-title><a href=https://blog.oddbit.com/post/2013-01-28-how-do-i-lxc-console/>How do I LXC console?</a></h2><div class=post-meta><time class=post-date>2013-01-28</time></div><div class=post-content><p>It took me an unreasonably long time to boot an LXC container with
working console access. For the record:</p><p>When you boot an LXC container, the console appears to be attached to
a <code>pts</code> device. For example, when booting with the console attached to
your current terminal:</p><pre><code># lxc-start -n node0
...
node0 login: root
Last login: Mon Jan 28 16:35:19 on tty1
[root@node0 ~]# tty
/dev/console
[root@node0 ~]# ls -l /dev/console
crw------- 1 root tty 136, 12 Jan 28 16:36 /dev/console
</code></pre><p>This is also true when you attach to a container using <code>lxc-console</code>:</p></div><div><a class="read-more button inline" href=/post/2013-01-28-how-do-i-lxc-console/>[read more]</a></div></article><article class="post on-list"><h2 class=post-title><a href=https://blog.oddbit.com/post/2013-01-28-net-with-no-net/>Systemd and the case of the missing network</a></h2><div class=post-meta><time class=post-date>2013-01-28</time></div><div class=post-content><p>I was intrigued by <a href=http://0pointer.de/blog/projects/socket-activated-containers.html>this post</a> on socket activated containers with <code>systemd</code>. The basic premise is:</p><ul><li><code>systemd</code> opens a socket on the host and listens for connections.</li><li>When a client connections, <code>systemd</code> spawns a new container.</li><li>The host <code>systemd</code> passes the connected socket to the container
<code>systemd</code>.</li><li>Services in the container receive these sockets from the container
<code>systemd</code>.</li></ul><p>This is a very neat idea, since it delegates all the socket listening
to the host and only spins up container and service resources when
necessary.</p></div><div><a class="read-more button inline" href=/post/2013-01-28-net-with-no-net/>[read more]</a></div></article><article class="post on-list"><h2 class=post-title><a href=https://blog.oddbit.com/post/2013-01-25-archlinux-second-look/>A second look at Arch Linux</a></h2><div class=post-meta><time class=post-date>2013-01-25</time></div><div class=post-content><p>This is a followup to an <a href=/post/a-first-look-at-arch-linux>earlier post about Arch Linux</a>.</p><p>I&rsquo;ve since spent a little more time working with Arch, and these are
the things I like:</p><ul><li><p>The base system is very small and has a very short boot time. I
replaced Ubuntu on my old <a href=https://en.wikipedia.org/wiki/Asus_Eee_PC#Eee_900_series>Eee PC</a> with Arch and suddenly the boot
time is reasonable (&lt; 10 seconds to a text prompt, &lt; 30 seconds to a
full GUI login).</p></div><div><a class="read-more button inline" href=/post/2013-01-25-archlinux-second-look/>[read more]</a></div></article><article class="post on-list"><h2 class=post-title><a href=https://blog.oddbit.com/post/2012-12-21-parsing-libvirt-xml/>Parsing Libvirt XML with xmllint</a></h2><div class=post-meta><time class=post-date>2012-12-21</time></div><div class=post-content><p>I&rsquo;ve been playing around with the <a href=http://lxc.sourceforge.net/>LXC</a> support in libvirt recently,
and I&rsquo;m trying to use a model where each LXC instance is backed by a
dedicated LVM volume. This means that the process of starting an
instance is:</p><ul><li>mount the instance root filesystem if necessary</li><li>start the instance</li></ul><p>It&rsquo;s annoying to have to do this by hand. I could simply add all the
LXC filesystems to <code>/etc/fstab</code>, but this would mean and extra step
when creating and deleting each instance.</p></div><div><a class="read-more button inline" href=/post/2012-12-21-parsing-libvirt-xml/>[read more]</a></div></article><article class="post on-list"><h2 class=post-title><a href=https://blog.oddbit.com/post/2012-12-15-get-vm-ip/>Getting the IP address of a libvirt domain</a></h2><div class=post-meta><time class=post-date>2012-12-15</time></div><div class=post-content><p>If you are starting virtual machines via <code>libvirt</code>, and you have
attached them to the <code>default</code> network, there is a very simple method
you can use to determine the address assigned to your running
instance:</p><ul><li>Libvirt runs <code>dnsmasq</code> for the <code>default</code> network, and saves leases
in a local file (<code>/var/lib/libvirt/dnsmasq/default.leases</code> under
RHEL).</li><li>You can get the MAC address assigned to a virtual machine by
querying the domain XML description.</li></ul><p>Putting this together gets us something along the lines of:</p></div><div><a class="read-more button inline" href=/post/2012-12-15-get-vm-ip/>[read more]</a></div></article><article class="post on-list"><h2 class=post-title><a href=https://blog.oddbit.com/post/2012-12-10-archlinux/>A first look at Arch Linux</a></h2><div class=post-meta><time class=post-date>2012-12-10</time></div><div class=post-content><p>I decided to take a look at <a href=https://www.archlinux.org/>Arch Linux</a> this evening. It&rsquo;s an
interesting idea, but has a long way to go:</p><ul><li><p>The installer configured the wrong <code>root=</code> command line into my
<code>syslinux</code> configuration, resulting in a system that wouldn&rsquo;t boot.</p><p><strong>Update</strong>: As far as I can tell, the <code>syslinux-install_update</code>
command doesn&rsquo;t actually make any attempt to configure
<code>syslinux.cfg</code> at all.</p></li><li><p>I tried to install <code>libvirt</code> and <code>lxc</code>, but there are unresolved
library dependencies&mldr;the <code>virsh</code> command apparently requires
<code>libX11.so.6</code>, but the package is missing the appropriate
dependencies to pull in the necessary packages automatically.</p></div><div><a class="read-more button inline" href=/post/2012-12-10-archlinux/>[read more]</a></div></article><article class="post on-list"><h2 class=post-title><a href=https://blog.oddbit.com/post/2012-11-27-avahi-service-discovery/>Service discovery in the cloud using Avahi</a></h2><div class=post-meta><time class=post-date>2012-11-27</time></div><div class=post-content><p>I&rsquo;m been writing <a href=http://github.com/larsks/drifter>a provisioning tool</a> for OpenStack
recently, and I&rsquo;ve put together a demo configuration that installs a
simple cluster consisting of three backend nodes and a front-end http
proxy. I needed a way for the backend servers to discover the ip
address of the frontend server. Since in my target environment
everything would be on the same layer-2 network segment, service
discovery with multicast DNS (mDNS) seemed like the way to go.</p></div><div><a class="read-more button inline" href=/post/2012-11-27-avahi-service-discovery/>[read more]</a></div></article><article class="post on-list"><h2 class=post-title><a href=https://blog.oddbit.com/post/2012-11-26-using-oracle-jdk/>Using Oracle JDK under CentOS</a></h2><div class=post-meta><time class=post-date>2012-11-26</time></div><div class=post-content><p>I needed to replace the native OpenJDK based Java VM with the Oracle
Java distribution on one of our CentOS servers. In order to do it
cleanly I wanted to set up the <code>alternatives</code> system to handle it, but
it took a while to figure out the exact syntax.</p><p>For the record (and because I will probably forget):</p><pre><code>alternatives --install /usr/bin/java java /usr/java/latest/bin/java 2000 \
  --slave /usr/bin/keytool keytool /usr/java/latest/bin/keytool \
  --slave /usr/bin/rmiregistry rmiregistry /usr/java/latest/bin/rmiregistry
</code></pre></div><div><a class="read-more button inline" href=/post/2012-11-26-using-oracle-jdk/>[read more]</a></div></article><article class="post on-list"><h2 class=post-title><a href=https://blog.oddbit.com/post/2012-11-08-popfile-document-classificatio/>Document classification with POPFile</a></h2><div class=post-meta><time class=post-date>2012-11-08</time></div><span class=post-tags>#<a href=https://blog.oddbit.com/tags/bayes/>bayes</a>&nbsp;
#<a href=https://blog.oddbit.com/tags/analytics/>analytics</a>&nbsp;</span><div class=post-content><p>I recently embarked upon a quest to categorize a year&rsquo;s worth of
trouble tickets (around 15000 documents total). We wanted to see what
sort of things are generating the most work for our helpdesk staff so
that we can identify areas in which improvements would have the
biggest impact. One of my colleagues took a first pass at the data by
manually categorizing the tickets based on their subject. This
resulted in some useful data, but in the end just over 40% of the
tickets are still uncategorized.</p></div><div><a class="read-more button inline" href=/post/2012-11-08-popfile-document-classificatio/>[read more]</a></div></article><article class="post on-list"><h2 class=post-title><a href=https://blog.oddbit.com/post/2012-11-06-convert-html-to-markdown/>Converting HTML to Markdown</a></h2><div class=post-meta><time class=post-date>2012-11-06</time></div><span class=post-tags>#<a href=https://blog.oddbit.com/tags/markdown/>markdown</a>&nbsp;
#<a href=https://blog.oddbit.com/tags/meta/>meta</a>&nbsp;</span><div class=post-content><p>In order to import posts from <a href=http://blogger.com/>Blogger</a> into <a href=http://scriptogr.am/>Scriptogr.am</a> I needed to convert all the HTML formatting into Markdown. Thankfully there are a number of tools out there that can help with this task.</p><ul><li><p><a href=http://markdownrules.com/>MarkdownRules</a>. This is an online service build around
<a href=http://milianw.de/projects/markdownify/>Markdownify</a>. It&rsquo;s a slick site with a nice API, but the backend
wasn&rsquo;t able to correctly render <code>&lt;pre></code> blocks. Since I&rsquo;m often
writing about code, my posts are filled with things like embedded
XML and <code>#include &lt;stdio.h></code>, so this was a problem.</p></div><div><a class="read-more button inline" href=/post/2012-11-06-convert-html-to-markdown/>[read more]</a></div></article><div class=pagination><div class=pagination__buttons><a href=/posts/page/18/ class="button inline prev">&lt; [<span class=button__text>Newer posts</span>]
</a>::
<a href=/posts/page/20/ class="button inline next">[<span class=button__text>Older posts</span>] ></a></div></div></div></div><footer class=footer><div class=footer__inner><div class="copyright copyright--user"><span>Lars Kellogg-Stedman</span>
<span>:: <a href=https://github.com/panr/hugo-theme-terminal target=_blank>Theme</a> made by <a href=https://github.com/panr target=_blank>panr</a></span></div></div></footer><script type=text/javascript src=/bundle.min.js></script><script src=/js/mermaid.min.js></script><script>mermaid.initialize({startOnLoad:!0})</script></div></body></html>