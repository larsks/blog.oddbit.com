<!doctype html><html lang=en><head><meta name=generator content="Hugo 0.133.0"><title>blog.oddbit.com</title>
<meta charset=utf-8><meta name=viewport content="width=device-width,initial-scale=1"><meta name=description content><meta name=keywords content><meta name=robots content="noodp"><link rel=canonical href=https://blog.oddbit.com/><script async src="https://www.googletagmanager.com/gtag/js?id=G-G1FYT93ENG"></script><script>var dnt,doNotTrack=!1;if(!1&&(dnt=navigator.doNotTrack||window.doNotTrack||navigator.msDoNotTrack,doNotTrack=dnt=="1"||dnt=="yes"),!doNotTrack){window.dataLayer=window.dataLayer||[];function gtag(){dataLayer.push(arguments)}gtag("js",new Date),gtag("config","G-G1FYT93ENG")}</script><link rel=stylesheet href=https://blog.oddbit.com/styles.css><link rel=stylesheet href=https://blog.oddbit.com/style.css><link rel="shortcut icon" href=https://blog.oddbit.com/img/theme-colors/orange.png><link rel=apple-touch-icon href=https://blog.oddbit.com/img/theme-colors/orange.png><meta name=twitter:card content="summary"><meta property="og:locale" content="en"><meta property="og:type" content="website"><meta property="og:title" content="blog.oddbit.com"><meta property="og:description" content><meta property="og:url" content="https://blog.oddbit.com/"><meta property="og:site_name" content="blog.oddbit.com"><meta property="og:image" content="https://blog.oddbit.com/img/favicon/orange.png"><meta property="og:image:width" content="1200"><meta property="og:image:height" content="627"><link href=/rss.xml rel=alternate type=application/rss+xml title=blog.oddbit.com></head><body class=orange><div class="container center headings--one-size"><header class=header><div class=header__inner><div class=header__logo><a href=/><div class=logo>the odd bit blog</div></a></div><ul class="menu menu--mobile"><li class=menu__trigger>Menu&nbsp;▾</li><li><ul class=menu__dropdown><li><a href=/>/</a></li><li><a href=https://oddbit.com>/about</a></li><li><a href=/posts>/posts</a></li><li><a href=/tags>/tags</a></li><li><a href=/archive>/archive</a></li><li><a href=/rss.xml>/feed</a></li><li><a href=https://github.com/larsks>→Github</a></li><li><a href=https://hachyderm.io/@larsks>→Mastodon</a></li><li><a href=https://twitter.com/larsks>→Twitter</a></li></ul></li></ul></div><nav class=navigation-menu><ul class="navigation-menu__inner menu--desktop"><li><a href=/>/</a></li><li><a href=https://oddbit.com>/about</a></li><li><a href=/posts>/posts</a></li><li><a href=/tags>/tags</a></li><li><a href=/archive>/archive</a></li><li><a href=/rss.xml>/feed</a></li><li><ul class=menu><li class=menu__trigger>&nbsp;▾</li><li><ul class=menu__dropdown><li><a href=https://github.com/larsks>→Github</a></li><li><a href=https://hachyderm.io/@larsks>→Mastodon</a></li><li><a href=https://twitter.com/larsks>→Twitter</a></li></ul></li></ul></li></ul></nav></header><div class=content><div class="index-content framed"><img src="https://s.gravatar.com/avatar/1c09a8d9e719f9d13b6c99f6bb2637d8?s=80" alt="Uncle Deadly Image" class=center style=border-radius:8px><p>Hi there. Welcome to <a href=https://blog.oddbit.com><code>blog.oddbit.com</code></a>! I post articles here on a variety of technical topics. Mostly I&rsquo;m posting for myself (writing things up helps me remember them in the future), but I always hope the content I put here is helpful to someone else. If you find something here useful and want to say thanks, feel free to <a href=https://www.buymeacoffee.com/oddbit>buy me a coffee</a>!</p></div><div class=posts><article class="post on-list"><h1 class=post-title><a href=https://blog.oddbit.com/post/2013-02-25-puppet-xmlrpc-quote/>A quote about XMLRPC</a></h1><div class=post-meta><time class=post-date>2013-02-25 ::</time></div><span class=post-tags>#<a href=https://blog.oddbit.com/tags/puppet/>puppet</a>&nbsp;</span><div class=post-content>I’ve been reading up on Puppet 3 lately, and came across the following:
XMLRPC was the new hotness when development on Puppet started. Now, XMLRPC is that horrible thing with the XML and the angle brackets and the pain and sad.
(from <a href=http://somethingsinistral.net/blog/the-angry-guide-to-puppet-3/>http://somethingsinistral.net/blog/the-angry-guide-to-puppet-3/</a>)
…which also accurately sums up my feelings when I come across yet another piece of software where someone has decided that XML (or even JSON) is a good user-facing configuration syntax.</div><div><a class="read-more button" href=/post/2013-02-25-puppet-xmlrpc-quote/>read more →</a></div></article><article class="post on-list"><h1 class=post-title><a href=https://blog.oddbit.com/post/2013-02-21-ucarp-unit-for-systemd/>A systemd unit for ucarp</a></h1><div class=post-meta><time class=post-date>2013-02-21 ::</time></div><div class=post-content>In Fedora 17 there are still a number of services that either have not been ported over to systemd or that do not take full advantage of systemd. I’ve been investigating some IP failover solutions recently, including ucarp, which includes only a System-V style init script.
I’ve created a template service for ucarp that will let you start a specific virtual ip like this:
systemctl start ucarp@001 This will start ucarp using settings from /etc/ucarp/vip-001.</div><div><a class="read-more button" href=/post/2013-02-21-ucarp-unit-for-systemd/>read more →</a></div></article><article class="post on-list"><h1 class=post-title><a href=https://blog.oddbit.com/post/2013-02-01-dhcpcd-under-lxc/>Running dhcpcd under LXC</a></h1><div class=post-meta><time class=post-date>2013-02-01 ::</time></div><div class=post-content><p>I’ve been working with Arch Linux recently, which uses dhcpcd as its default DHCP agent. If you try booting Arch inside an LXC container, you will find that dhcpcd is unable to configure your network interfaces. Running it by hand you will first see the following error:</p><h1 id=dhcpcd-eth0-dhcpcd492-version-564-starting-dhcpcd492-eth0-if_init-read-only-file-system-dhcpcd492-eth0-interface-not-found-or-invalid-this-happens-because-dhcpcd-is-trying-to-modify-a-sysctl-value>dhcpcd eth0 dhcpcd[492]: version 5.6.4 starting dhcpcd[492]: eth0: if_init: Read-only file system dhcpcd[492]: eth0: interface not found or invalid This happens because dhcpcd is trying to modify a sysctl value.</h1></div><div><a class="read-more button" href=/post/2013-02-01-dhcpcd-under-lxc/>read more →</a></div></article><article class="post on-list"><h1 class=post-title><a href=https://blog.oddbit.com/post/2013-01-28-lxc-cant-remove-cgroup/>Cleaning up LXC cgroups</a></h1><div class=post-meta><time class=post-date>2013-01-28 ::</time></div><div class=post-content><p>I spent some time today looking at systemd (44) under Fedora (17). When stopping an LXC container using lxc-stop, I would always encounter this problem:</p><h1 id=lxc-stop--n-node0-lxc-start-device-or-resource-busy---failed-to-remove-cgroup-sysfscgroupsystemdnode0-this-prevents-one-from-starting-a-new-container-with-the-same-name>lxc-stop -n node0 lxc-start: Device or resource busy - failed to remove cgroup &lsquo;/sys/fs/cgroup/systemd/node0 This prevents one from starting a new container with the same name:</h1><h1 id=lxc-start--n-node0-lxc-start-device-or-resource-busy---failed-to-remove-previous-cgroup-sysfscgroupsystemdnode0-lxc-start-failed-to-spawn-node0-lxc-start-device-or-resource-busy---failed-to-remove-cgroup-sysfscgroupsystemdnode0-you-can-correct-the-problem-manually-by-removing-all-the-child-cgroups-underneath-sysfscgroupsystemdltcontainergt-like-this>lxc-start -n node0 lxc-start: Device or resource busy - failed to remove previous cgroup &lsquo;/sys/fs/cgroup/systemd/node0&rsquo; lxc-start: failed to spawn &rsquo;node0&rsquo; lxc-start: Device or resource busy - failed to remove cgroup &lsquo;/sys/fs/cgroup/systemd/node0&rsquo; You can correct the problem manually by removing all the child cgroups underneath /sys/fs/cgroup/systemd/&lt;container>, like this:</h1></div><div><a class="read-more button" href=/post/2013-01-28-lxc-cant-remove-cgroup/>read more →</a></div></article><article class="post on-list"><h1 class=post-title><a href=https://blog.oddbit.com/post/2013-01-28-how-do-i-lxc-console/>How do I LXC console?</a></h1><div class=post-meta><time class=post-date>2013-01-28 ::</time></div><div class=post-content><p>It took me an unreasonably long time to boot an LXC container with working console access. For the record:
When you boot an LXC container, the console appears to be attached to a pts device. For example, when booting with the console attached to your current terminal:</p><h1 id=lxc-start--n-node0--node0-login-root-last-login-mon-jan-28-163519-on-tty1-rootnode0--tty-devconsole-rootnode0--ls--l-devconsole-crw--------1-root-tty-136-12-jan-28-1636-devconsole-this-is-also-true-when-you-attach-to-a-container-using-lxc-console>lxc-start -n node0 &mldr; node0 login: root Last login: Mon Jan 28 16:35:19 on tty1 [root@node0 ~]# tty /dev/console [root@node0 ~]# ls -l /dev/console crw&mdash;&mdash;- 1 root tty 136, 12 Jan 28 16:36 /dev/console This is also true when you attach to a container using lxc-console:</h1></div><div><a class="read-more button" href=/post/2013-01-28-how-do-i-lxc-console/>read more →</a></div></article><div class=pagination><div class=pagination__buttons><a href=/page/35/ class="button previous"><span class=button__icon>←</span>
<span class=button__text>Newer posts</span>
</a><a href=/page/37/ class="button next"><span class=button__text>Older posts</span>
<span class=button__icon>→</span></a></div></div></div></div><footer class=footer><div class=footer__inner><div class="copyright copyright--user"><span>Lars Kellogg-Stedman</span>
<span>:: <a href=https://github.com/panr/hugo-theme-terminal target=_blank>Theme</a> made by <a href=https://github.com/panr target=_blank>panr</a></span></div></div></footer><script type=text/javascript src=/bundle.min.js></script><script src=/js/mermaid.min.js></script><script>mermaid.initialize({startOnLoad:!0})</script></div></body></html>