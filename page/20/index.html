<!doctype html><html lang=en><head><meta name=generator content="Hugo 0.151.0"><title>blog.oddbit.com</title><meta charset=utf-8><meta name=viewport content="width=device-width,initial-scale=1"><meta name=description content><meta name=keywords content><meta name=robots content="noodp"><link rel=canonical href=https://blog.oddbit.com/><script async src="https://www.googletagmanager.com/gtag/js?id=G-G1FYT93ENG"></script><script>var dnt,doNotTrack=!1;if(!1&&(dnt=navigator.doNotTrack||window.doNotTrack||navigator.msDoNotTrack,doNotTrack=dnt=="1"||dnt=="yes"),!doNotTrack){window.dataLayer=window.dataLayer||[];function gtag(){dataLayer.push(arguments)}gtag("js",new Date),gtag("config","G-G1FYT93ENG")}</script><link rel=stylesheet href=https://blog.oddbit.com/css/buttons.min.86f6b4c106b6c6eb690ae5203d36b442c1f66f718ff4e8164fa86cf6c61ad641.css><link rel=stylesheet href=https://blog.oddbit.com/css/code.min.d529ea4b2fb8d34328d7d31afc5466d5f7bc2f0bc9abdd98b69385335d7baee4.css><link rel=stylesheet href=https://blog.oddbit.com/css/fonts.min.5bb7ed13e1d00d8ff39ea84af26737007eb5051b157b86fc24487c94f3dc8bbe.css><link rel=stylesheet href=https://blog.oddbit.com/css/footer.min.eb8dfc2c6a7eafa36cd3ba92d63e69e849e2200e0002a228d137f236b09ecd75.css><link rel=stylesheet href=https://blog.oddbit.com/css/gist.min.a751e8b0abe1ba8bc53ced52a38b19d8950fe78ca29454ea8c2595cf26aad5c0.css><link rel=stylesheet href=https://blog.oddbit.com/css/header.min.75c7eb0e2872d95ff48109c6647d0223a38db52e2561dd87966eb5fc7c6bdac6.css><link rel=stylesheet href=https://blog.oddbit.com/css/main.min.36833afd348409fc6c3d09d0897c5833d9d5bf1ff31f5e60ea3ee42ce2b1268c.css><link rel=stylesheet href=https://blog.oddbit.com/css/menu.min.3c17467ebeb3d38663dce68f71f519901124fa5cbb4519b2fb0667a21e9aca39.css><link rel=stylesheet href=https://blog.oddbit.com/css/pagination.min.bbb986dbce00a5ce5aca0504b7925fc1c581992a4bf57f163e5d69cc1db7d836.css><link rel=stylesheet href=https://blog.oddbit.com/css/post.min.e6dddd258e64c83e05cec0cd49c05216742d42fc8ecbfbe6b67083412b609bd3.css><link rel=stylesheet href=https://blog.oddbit.com/css/syntax.min.a0773cce9310cb6d8ed23e50f005448facf29a53001b57e038828daa466b25c0.css><link rel=stylesheet href=https://blog.oddbit.com/css/terminal.min.e3b0c44298fc1c149afbf4c8996fb92427ae41e4649b934ca495991b7852b855.css><link rel=stylesheet href=https://blog.oddbit.com/css/terms.min.b81791663c3790e738e571cdbf802312390d30e4b1d8dc9d814a5b5454d0ac11.css><link rel=stylesheet href=https://blog.oddbit.com/style.css><link rel="shortcut icon" href=https://blog.oddbit.com/favicon.png><link rel=apple-touch-icon href=https://blog.oddbit.com/apple-touch-icon.png><meta name=twitter:card content="summary"><meta property="og:locale" content="en"><meta property="og:type" content="website"><meta property="og:title" content="blog.oddbit.com"><meta property="og:description" content><meta property="og:url" content="https://blog.oddbit.com/"><meta property="og:site_name" content="blog.oddbit.com"><meta property="og:image" content="https://blog.oddbit.com/og-image.png"><meta property="og:image:width" content="1200"><meta property="og:image:height" content="627"><link href=/rss.xml rel=alternate type=application/rss+xml title=blog.oddbit.com></head><body><div class="container center"><header class=header><div class=header__inner><div class=header__logo><a href=/><div class=logo>the odd bit blog</div></a></div><ul class="menu menu--mobile"><li class=menu__trigger>Menu&nbsp;▾</li><li><ul class=menu__dropdown><li><a href=/>/</a></li><li><a href=https://oddbit.com>/about</a></li><li><a href=/posts>/posts</a></li><li><a href=/tags>/tags</a></li><li><a href=/archive>/archive</a></li><li><a href=/rss.xml>/feed</a></li><li><a href=https://github.com/larsks>→Github</a></li><li><a href=https://hachyderm.io/@larsks>→Mastodon</a></li><li><a href=https://twitter.com/larsks>→Twitter</a></li></ul></li></ul></div><nav class=navigation-menu><ul class="navigation-menu__inner menu--desktop"><li><a href=/>/</a></li><li><a href=https://oddbit.com>/about</a></li><li><a href=/posts>/posts</a></li><li><a href=/tags>/tags</a></li><li><a href=/archive>/archive</a></li><li><a href=/rss.xml>/feed</a></li><li><ul class=menu><li class=menu__trigger>&nbsp;▾</li><li><ul class=menu__dropdown><li><a href=https://github.com/larsks>→Github</a></li><li><a href=https://hachyderm.io/@larsks>→Mastodon</a></li><li><a href=https://twitter.com/larsks>→Twitter</a></li></ul></li></ul></li></ul></nav></header><div class=content><div class="index-content framed"><img src="https://s.gravatar.com/avatar/1c09a8d9e719f9d13b6c99f6bb2637d8?s=80" alt="Uncle Deadly Image" class=center style=border-radius:8px><p>Hi there. Welcome to <a href=https://blog.oddbit.com><code>blog.oddbit.com</code></a>! I post articles here on a variety of technical topics. Mostly I&rsquo;m posting for myself (writing things up helps me remember them in the future), but I always hope the content I put here is helpful to someone else. If you find something here useful and want to say thanks, feel free to <a href=https://www.buymeacoffee.com/oddbit>buy me a coffee</a>!</p></div><div class=posts><article class="post on-list"><h2 class=post-title><a href=https://blog.oddbit.com/post/2012-11-06-moving-from-blogger/>Relocating from Blogger</a></h2><div class=post-meta><time class=post-date>2012-11-06</time></div><span class=post-tags>#<a href=https://blog.oddbit.com/tags/meta/>meta</a>&nbsp;</span><div class=post-content><p>I&rsquo;m in the process of porting over content from Blogger. This may
lead to odd formatting or broken links here and there. If you spot
something, please <a href=http://blog.oddbit.com/about>let me know</a>.</p><p>If you came here from Google and found a broken link, try starting at
the <a href=http://blog.oddbit.com/archive>archive</a> and see if you can spot what you were looking for.</p></div><div><a class="read-more button inline" href=/post/2012-11-06-moving-from-blogger/>[read more]</a></div></article><article class="post on-list"><h2 class=post-title><a href=https://blog.oddbit.com/post/2012-11-05-posting-via-api/>Posting to Scriptogr.am using the API</a></h2><div class=post-meta><time class=post-date>2012-11-05</time></div><span class=post-tags>#<a href=https://blog.oddbit.com/tags/scriptogr.am/>scriptogr.am</a>&nbsp;
#<a href=https://blog.oddbit.com/tags/api/>api</a>&nbsp;</span><div class=post-content><p>Scriptogr.am has a <a href=http://scriptogr.am/dashboard/#api_documentation>very simple api</a> that allows one to <code>POST</code> and
<code>DELETE</code> articles. <code>POST</code>ing an article will place it in the
appropriate Dropbox directory and make it available on your blog all
in one step.</p><p>Here is how you could use this API via Curl:</p><pre><code>curl \
       -d app_key=$APP_KEY \
       -d user_id=$USER_ID \
       -d name=&quot;${title:-$1}&quot; \
       --data-urlencode text@$tmpfile \
       \
       http://scriptogr.am/api/article/post/
</code></pre><p>This assumes that you&rsquo;ve registered for an application key and that
you have configured the value into <code>$APP_KEY</code> and your Scriptogr.am
user id into <code>$USER_ID</code>.</p></div><div><a class="read-more button inline" href=/post/2012-11-05-posting-via-api/>[read more]</a></div></article><article class="post on-list"><h2 class=post-title><a href=https://blog.oddbit.com/post/2012-11-05-fedora-private-tmp/>Private /tmp directories in Fedora</a></h2><div class=post-meta><time class=post-date>2012-11-05</time></div><span class=post-tags>#<a href=https://blog.oddbit.com/tags/fedora/>fedora</a>&nbsp;
#<a href=https://blog.oddbit.com/tags/systemd/>systemd</a>&nbsp;</span><div class=post-content><p>I ran into an odd problem the other day: I was testing out some
configuration changes for a web application by dropping files into
<code>/tmp</code> and pointing the application configuration at the appropriate
directory. Everything worked out great when testing it by hand&mldr;but
when starting up the <code>httpd</code> service, the application behaved as if it
was unable to find any of the files in <code>/tmp</code>.</p><p>My first assumption was that had simply missed something obvious like
file permissions or that I had a typo in my configuration, but after
repeated checks and lots of testing it was obvious that something else
was going on.</p></div><div><a class="read-more button inline" href=/post/2012-11-05-fedora-private-tmp/>[read more]</a></div></article><article class="post on-list"><h2 class=post-title><a href=https://blog.oddbit.com/post/2012-11-04-openstack-windows-config-part1/>Automatic configuration of Windows instances in OpenStack, part 1</a></h2><div class=post-meta><time class=post-date>2012-11-04</time></div><span class=post-tags>#<a href=https://blog.oddbit.com/tags/openstack/>openstack</a>&nbsp;
#<a href=https://blog.oddbit.com/tags/windows/>windows</a>&nbsp;</span><div class=post-content><p>This is the first of two articles in which I discuss my work in
getting some Windows instances up and running in our <a href=http://www.openstack.org/>OpenStack</a>
environment. This article is primarily about problems I encountered
along the way.</p><h2 id=motivations>Motivations</h2><p>Like many organizations, we have a mix of Linux and Windows in our
environment. Some folks in my group felt that it would be nice to let
our Windows admins take advantage of OpenStack for prototyping and
sandboxing in the same ways our Linux admins can use it.</p></div><div><a class="read-more button inline" href=/post/2012-11-04-openstack-windows-config-part1/>[read more]</a></div></article><article class="post on-list"><h2 class=post-title><a href=https://blog.oddbit.com/post/2012-11-04-powershell-random-passwords/>Generating random passwords in PowerShell</a></h2><div class=post-meta><time class=post-date>2012-11-04</time></div><span class=post-tags>#<a href=https://blog.oddbit.com/tags/powershell/>powershell</a>&nbsp;
#<a href=https://blog.oddbit.com/tags/windows/>windows</a>&nbsp;
#<a href=https://blog.oddbit.com/tags/passwords/>passwords</a>&nbsp;</span><div class=post-content><p>I was looking for PowerShell solutions for generating a random password (in
order to set the Administrator password on a Windows instance provisioned in
<a href=http://www.openstack.org/>OpenStack</a>), and found several solutions using the GeneratePassword method
of <code>System.Web.Security.Membership</code> (documentation <a href=http://msdn.microsoft.com/en-us/library/system.web.security.membership.generatepassword.aspx>here</a>),
along the lines of <a href=https://gist.github.com/4011878>this</a>:</p><pre><code>Function New-RandomComplexPassword ($length=8)
{
    $Assembly = Add-Type -AssemblyName System.Web
    $password = [System.Web.Security.Membership]::GeneratePassword($length,2)
    return $password
}
</code></pre><p>While this works, I was unhappy with the generated passwords: they
were difficult to type or transcribe because they make heavy use of
punctuation. For example:</p></div><div><a class="read-more button inline" href=/post/2012-11-04-powershell-random-passwords/>[read more]</a></div></article><article class="post on-list"><h2 class=post-title><a href=https://blog.oddbit.com/post/2012-11-04-powershell-wait-for-networking/>Waiting for networking using PowerShell</a></h2><div class=post-meta><time class=post-date>2012-11-04</time></div><span class=post-tags>#<a href=https://blog.oddbit.com/tags/powershell/>powershell</a>&nbsp;
#<a href=https://blog.oddbit.com/tags/networking/>networking</a>&nbsp;
#<a href=https://blog.oddbit.com/tags/windows/>windows</a>&nbsp;</span><div class=post-content><p>I&rsquo;ve recently been exploring the world of Windows scripting, and I ran
into a small problem: I was running a script at system startup, and
the script was running before the network interface (which was using
DHCP) was configured.</p><p>There are a number of common solutions proposed to this problem:</p><ul><li><p>Just wait for some period of time.</p><p>This can work but it&rsquo;s ugly, and because it doesn&rsquo;t actually
verify the network state it can result in things breaking if some
problem prevents Windows from pulling a valid DHCP lease.</p></div><div><a class="read-more button inline" href=/post/2012-11-04-powershell-wait-for-networking/>[read more]</a></div></article><article class="post on-list"><h2 class=post-title><a href=https://blog.oddbit.com/post/2012-10-24-resizing-virtual-disk/>Growing a filesystem on a virtual disk</a></h2><div class=post-meta><time class=post-date>2012-10-24</time></div><span class=post-tags>#<a href=https://blog.oddbit.com/tags/virtualization/>virtualization</a>&nbsp;
#<a href=https://blog.oddbit.com/tags/kvm/>kvm</a>&nbsp;
#<a href=https://blog.oddbit.com/tags/storage/>storage</a>&nbsp;</span><div class=post-content><p>Occasionally we will deploy a virtual instance into our KVM
infrastructure and realize after the fact that we need more local disk
space available. This is the process we use to expand the disk image.
This process assumes the following:</p><ul><li>You&rsquo;re using legacy disk partitions. The process for LVM is similar
and I will describe that in another post (it&rsquo;s generally identical
except for an additional <code>pvresize</code> thrown in and <code>lvextend</code> in
place of <code>resize2fs</code>).</li><li>The partition you need to resize is the last partition on the disk.</li></ul><p>This process will work with either a <code>qcow2</code> or <code>raw</code> disk image. For
<code>raw</code> images you can also run <code>fdisk</code> on the host, potentially saving
yourself a reboot, but that&rsquo;s less convenient for <code>qcow2</code> format
images.</p></div><div><a class="read-more button inline" href=/post/2012-10-24-resizing-virtual-disk/>[read more]</a></div></article><article class="post on-list"><h2 class=post-title><a href=https://blog.oddbit.com/post/2012-09-10-awk-parsing-xml/>Parsing XML with Awk</a></h2><div class=post-meta><time class=post-date>2012-09-10</time></div><span class=post-tags>#<a href=https://blog.oddbit.com/tags/awk/>awk</a>&nbsp;
#<a href=https://blog.oddbit.com/tags/xml/>xml</a>&nbsp;</span><div class=post-content><p>Recently, changes from the <a href=http://gawkextlib.sourceforge.net/>xmlgawk</a> project have been integrated into
<a href=https://www.gnu.org/software/gawk/>GNU awk</a>, and xmlgawk has been renamed to <a href=http://gawkextlib.sourceforge.net/>gawkextlib</a>. With both a
recent (post-4.0.70) gawk and gawkextlib built and installed
correctly, you can write simple XML parsing scripts using gawk.</p><p>For example, let&rsquo;s say you would like to generate a list of disk image
files associated with a KVM virtual instance. You can use the <code>virsh dumpxml</code> command to get output like the following:</p></div><div><a class="read-more button inline" href=/post/2012-09-10-awk-parsing-xml/>[read more]</a></div></article><article class="post on-list"><h2 class=post-title><a href=https://blog.oddbit.com/post/2012-08-09-markdown-email/>Markdown in your Email</a></h2><div class=post-meta><time class=post-date>2012-08-09</time></div><div class=post-content><p>I really like <a href=http://daringfireball.net/projects/markdown/>Markdown</a>, a minimal markup language designed to be readable as plain text that can be rendered into structurally valid HTML. Markdown is already used on sites such as <a href=http://github.com/>GitHub</a> and all the <a href=http://stackexchange.com/sites>StackExchange</a> sites.</p><p>I use Markdown often enough that it&rsquo;s become ingrained in my fingers, to the point that I&rsquo;ve started unconsciously using Markdown syntax in my email. This isn&rsquo;t particularly useful by itself, although it means that I can take a message and render it to something pretty if I decide it needs to go somewhere other than my sent mail folder.</p></div><div><a class="read-more button inline" href=/post/2012-08-09-markdown-email/>[read more]</a></div></article><article class="post on-list"><h2 class=post-title><a href=https://blog.oddbit.com/post/2012-07-30-openstack-idle-connection-time/>Chasing OpenStack idle connection timeouts</a></h2><div class=post-meta><time class=post-date>2012-07-30</time></div><span class=post-tags>#<a href=https://blog.oddbit.com/tags/openstack/>openstack</a>&nbsp;
#<a href=https://blog.oddbit.com/tags/networking/>networking</a>&nbsp;</span><div class=post-content><h2 id=the-original-problem>The original problem</h2><p>I&rsquo;ve recently spent some time working on an OpenStack deployment. I ran into a
problem in which the <a href=http://docs.openstack.org/trunk/openstack-compute/starter/content/Compute_Worker_nova-compute_-d1e232.html>compute service</a> would frequently stop communicating
with the <a href=http://www.amqp.org/>AMQP</a> message broker (<code>qpidd</code>).</p><p>In order to gather some data on the problem, I ran the following simple test:</p><ul><li>Wait <code>n</code> minutes</li><li>Run <code>nova boot ...</code> to create an instance</li><li>Wait a minute and see if the new instance becomes <code>ACTIVE</code></li><li>If it works, delete the instance, set <code>n</code> = <code>2n</code> and repeat</li></ul><p>This demonstrated that communication was failing after about an hour, which
correlates rather nicely with the idle connection timeout on the firewall.</p></div><div><a class="read-more button inline" href=/post/2012-07-30-openstack-idle-connection-time/>[read more]</a></div></article><div class=pagination><div class=pagination__buttons><a href=/page/19/ class="button inline prev">&lt; [<span class=button__text>Newer posts</span>]
</a>::
<a href=/page/21/ class="button inline next">[<span class=button__text>Older posts</span>] ></a></div></div></div></div><footer class=footer><div class=footer__inner><div class="copyright copyright--user"><span>Lars Kellogg-Stedman</span>
<span>:: <a href=https://github.com/panr/hugo-theme-terminal target=_blank>Theme</a> made by <a href=https://github.com/panr target=_blank>panr</a></span></div></div></footer><script type=text/javascript src=/bundle.min.js></script><script src=/js/mermaid.min.js></script><script>mermaid.initialize({startOnLoad:!0})</script></div></body></html>