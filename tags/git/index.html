<!doctype html><html lang=en><head><title>Git :: blog.oddbit.com</title><meta charset=utf-8><meta name=viewport content="width=device-width,initial-scale=1"><meta name=description content><meta name=keywords content><meta name=robots content="noodp"><link rel=canonical href=https://blog.oddbit.com/tags/git/><script async src="https://www.googletagmanager.com/gtag/js?id=G-G1FYT93ENG"></script><script>var dnt,doNotTrack=!1;if(!1&&(dnt=navigator.doNotTrack||window.doNotTrack||navigator.msDoNotTrack,doNotTrack=dnt=="1"||dnt=="yes"),!doNotTrack){window.dataLayer=window.dataLayer||[];function gtag(){dataLayer.push(arguments)}gtag("js",new Date),gtag("config","G-G1FYT93ENG")}</script><link rel=stylesheet href=https://blog.oddbit.com/css/buttons.min.86f6b4c106b6c6eb690ae5203d36b442c1f66f718ff4e8164fa86cf6c61ad641.css><link rel=stylesheet href=https://blog.oddbit.com/css/code.min.d529ea4b2fb8d34328d7d31afc5466d5f7bc2f0bc9abdd98b69385335d7baee4.css><link rel=stylesheet href=https://blog.oddbit.com/css/fonts.min.5bb7ed13e1d00d8ff39ea84af26737007eb5051b157b86fc24487c94f3dc8bbe.css><link rel=stylesheet href=https://blog.oddbit.com/css/footer.min.eb8dfc2c6a7eafa36cd3ba92d63e69e849e2200e0002a228d137f236b09ecd75.css><link rel=stylesheet href=https://blog.oddbit.com/css/gist.min.a751e8b0abe1ba8bc53ced52a38b19d8950fe78ca29454ea8c2595cf26aad5c0.css><link rel=stylesheet href=https://blog.oddbit.com/css/header.min.75c7eb0e2872d95ff48109c6647d0223a38db52e2561dd87966eb5fc7c6bdac6.css><link rel=stylesheet href=https://blog.oddbit.com/css/main.min.36833afd348409fc6c3d09d0897c5833d9d5bf1ff31f5e60ea3ee42ce2b1268c.css><link rel=stylesheet href=https://blog.oddbit.com/css/menu.min.3c17467ebeb3d38663dce68f71f519901124fa5cbb4519b2fb0667a21e9aca39.css><link rel=stylesheet href=https://blog.oddbit.com/css/pagination.min.bbb986dbce00a5ce5aca0504b7925fc1c581992a4bf57f163e5d69cc1db7d836.css><link rel=stylesheet href=https://blog.oddbit.com/css/post.min.e6dddd258e64c83e05cec0cd49c05216742d42fc8ecbfbe6b67083412b609bd3.css><link rel=stylesheet href=https://blog.oddbit.com/css/syntax.min.a0773cce9310cb6d8ed23e50f005448facf29a53001b57e038828daa466b25c0.css><link rel=stylesheet href=https://blog.oddbit.com/css/terminal.min.e3b0c44298fc1c149afbf4c8996fb92427ae41e4649b934ca495991b7852b855.css><link rel=stylesheet href=https://blog.oddbit.com/css/terms.min.b81791663c3790e738e571cdbf802312390d30e4b1d8dc9d814a5b5454d0ac11.css><link rel=stylesheet href=https://blog.oddbit.com/style.css><link rel="shortcut icon" href=https://blog.oddbit.com/favicon.png><link rel=apple-touch-icon href=https://blog.oddbit.com/apple-touch-icon.png><meta name=twitter:card content="summary"><meta property="og:locale" content="en"><meta property="og:type" content="website"><meta property="og:title" content="Git"><meta property="og:description" content><meta property="og:url" content="https://blog.oddbit.com/tags/git/"><meta property="og:site_name" content="blog.oddbit.com"><meta property="og:image" content="https://blog.oddbit.com/og-image.png"><meta property="og:image:width" content="1200"><meta property="og:image:height" content="627"><link href=/tags/git/rss.xml rel=alternate type=application/rss+xml title=blog.oddbit.com></head><body><div class="container center"><header class=header><div class=header__inner><div class=header__logo><a href=/><div class=logo>the odd bit blog</div></a></div><ul class="menu menu--mobile"><li class=menu__trigger>Menu&nbsp;▾</li><li><ul class=menu__dropdown><li><a href=/>/</a></li><li><a href=https://oddbit.com>/about</a></li><li><a href=/posts>/posts</a></li><li><a href=/tags>/tags</a></li><li><a href=/archive>/archive</a></li><li><a href=/rss.xml>/feed</a></li><li><a href=https://github.com/larsks>→Github</a></li><li><a href=https://hachyderm.io/@larsks>→Mastodon</a></li><li><a href=https://twitter.com/larsks>→Twitter</a></li></ul></li></ul></div><nav class=navigation-menu><ul class="navigation-menu__inner menu--desktop"><li><a href=/>/</a></li><li><a href=https://oddbit.com>/about</a></li><li><a href=/posts>/posts</a></li><li><a href=/tags>/tags</a></li><li><a href=/archive>/archive</a></li><li><a href=/rss.xml>/feed</a></li><li><ul class=menu><li class=menu__trigger>&nbsp;▾</li><li><ul class=menu__dropdown><li><a href=https://github.com/larsks>→Github</a></li><li><a href=https://hachyderm.io/@larsks>→Mastodon</a></li><li><a href=https://twitter.com/larsks>→Twitter</a></li></ul></li></ul></li></ul></nav></header><div class=content><h1>Posts for: #Git</h1><div class=posts><article class="post on-list"><h1 class=post-title><a href=https://blog.oddbit.com/post/2022-09-22-delete-workflow-runs/>Delete GitHub workflow runs using the gh cli</a></h1><div class=post-meta><time class=post-date>2022-09-22</time></div><span class=post-tags>#<a href=https://blog.oddbit.com/tags/git/>git</a>&nbsp;
#<a href=https://blog.oddbit.com/tags/github/>github</a>&nbsp;</span><div class=post-content><p>Hello, future me. This is for you next time you want to do this.</p><p>When setting up the CI for a project I will sometimes end up with a tremendous clutter of workflow runs. Sometimes they have embarrassing mistakes. Who wants to show that to people? I was trying to figure out how to bulk delete workflow runs from the CLI, and I came up with something that works:</p><pre tabindex=0><code>gh run list --json databaseId  -q &#39;.[].databaseId&#39; |
  xargs -IID gh api \
    &#34;repos/$(gh repo view --json nameWithOwner -q .nameWithOwner)/actions/runs/ID&#34; \
    -X DELETE
</code></pre><p>This will delete <em>all</em> (well, up to 20, or whatever you set in <code>--limit</code>) your workflow runs. You can add flags to <code>gh run list</code> to filter runs by workflow or by triggering user.</p></div><div><a class="read-more button inline" href=/post/2022-09-22-delete-workflow-runs/>[read more]</a></div></article><article class="post on-list"><h1 class=post-title><a href=https://blog.oddbit.com/post/2021-02-27-git-doc-tools/>Tools for writing about Git</a></h1><div class=post-meta><time class=post-date>2021-02-27</time></div><span class=post-tags>#<a href=https://blog.oddbit.com/tags/git/>git</a>&nbsp;
#<a href=https://blog.oddbit.com/tags/graphviz/>graphviz</a>&nbsp;</span><div class=post-content><p>I sometimes find myself writing articles or documentation about
<a href=https://git-scm.org>git</a>, so I put together a couple of terrible hacks for generating
reproducible histories and pretty graphs of those histories.</p><h2 id=git-synth>git synth</h2><p>The <a href=https://github.com/larsks/git-snippets/blob/master/git-synth><code>git synth</code></a> command reads a <a href=https://yaml.org/>YAML</a> description of a
repository and executes the necessary commands to reproduce that
history. It allows you set the name and email address of the author
and committer as well as static date, so you every time you generate
the repository you can identical commit ids.</p></div><div><a class="read-more button inline" href=/post/2021-02-27-git-doc-tools/>[read more]</a></div></article><article class="post on-list"><h1 class=post-title><a href=https://blog.oddbit.com/post/2021-02-18-editing-a-commit-message-witho/>Editing a commit message without git rebase</a></h1><div class=post-meta><time class=post-date>2021-02-18</time></div><span class=post-tags>#<a href=https://blog.oddbit.com/tags/git/>git</a>&nbsp;</span><div class=post-content><p>While working on a pull request I will make liberal use of <a href=https://git-scm.com/docs/git-rebase>git
rebase</a> to clean up a series of commits: squashing typos,
re-ordering changes for logical clarity, and so forth. But there are
some times when all I want to do is change a commit message somewhere
down the stack, and I was wondering if I had any options for doing
that without reaching for <code>git rebase</code>.</p><p>It turns out the answer is &ldquo;yes&rdquo;, as long as you have a linear
history.</p></div><div><a class="read-more button inline" href=/post/2021-02-18-editing-a-commit-message-witho/>[read more]</a></div></article><article class="post on-list"><h1 class=post-title><a href=https://blog.oddbit.com/post/2019-06-17-avoid-rebase-hell-squashing-wi/>Avoid rebase hell: squashing without rebasing</a></h1><div class=post-meta><time class=post-date>2019-06-17</time></div><span class=post-tags>#<a href=https://blog.oddbit.com/tags/git/>git</a>&nbsp;</span><div class=post-content><p>You&rsquo;re working on a pull request. You&rsquo;ve been working on a pull request for a while, and due to lack of sleep or inebriation you&rsquo;ve been merging changes into your feature branch rather than rebasing. You now have a pull request that looks like this (I&rsquo;ve marked merge commits with the text <code>[merge]</code>):</p><pre tabindex=0><code>7e181479 Adds methods for widget sales
0487162 [merge] Merge remote-tracking branch &#39;origin/master&#39; into my_feature
76ee81c [merge] Merge branch &#39;my_feature&#39; of https://github.com/my_user_name/widgets into my_feature
981aab4 Adds api for the widget service.
b048836 Includes fixes suggested by reviewer.
3dd0c22 adds changes requested by reviewer
5891db2 [merge] fixing merge conflicts
2e226e4 fixes suggestions given by the reviewer
da1e85c Adds gadget related API spec
c555cc1 Adds doodad related API spec
e5beb3e Adds api for update and delete of widgets
c43bade Adds api for creating widgets
deaa962 Adds all get methods for listing widgets
9de79ab Adds api for showing a widget and simple data model
8288ab1 Adds api framework for widget service
</code></pre><p>You know that&rsquo;s a mess, so you try to fix it by running <code>git rebase -i master</code> and squashing everything together&mldr;and you find yourself stuck in an endless maze of merge conflicts. There has to be a better way!</p></div><div><a class="read-more button inline" href=/post/2019-06-17-avoid-rebase-hell-squashing-wi/>[read more]</a></div></article><article class="post on-list"><h1 class=post-title><a href=https://blog.oddbit.com/post/2019-06-14-git-etiquette-commit-messages/>Git Etiquette: Commit messages and pull requests</a></h1><div class=post-meta><time class=post-date>2019-06-14</time></div><span class=post-tags>#<a href=https://blog.oddbit.com/tags/git/>git</a>&nbsp;
#<a href=https://blog.oddbit.com/tags/github/>github</a>&nbsp;</span><div class=post-content><h2 id=always-work-on-a-branch-never-commit-on-master>Always work on a branch (never commit on master)</h2><p>When working with an upstream codebase, always make your changes on a feature branch rather than your local <code>master</code> branch. This will make it easier to keep your local <code>master</code> branch current with respect to upstream, and can help avoid situations in which you accidentally overwrite your local changes or introduce unnecessary merge commits into your history.</p><h2 id=rebase-instead-of-merge>Rebase instead of merge</h2><p>If you need to incorporate changes from the upstream <code>master</code> branch in the feature branch on which you are currently doing, bring in those changes using <code>git rebase</code> rather than <code>git merge</code>. This process will generally start by ensuring that your local copy of the upstream <code>master</code> is current:</p></div><div><a class="read-more button inline" href=/post/2019-06-14-git-etiquette-commit-messages/>[read more]</a></div></article><article class="post on-list"><h1 class=post-title><a href=https://blog.oddbit.com/post/2017-01-22-making-sure-your-gerrit-change/>Making sure your Gerrit changes aren&rsquo;t broken</a></h1><div class=post-meta><time class=post-date>2017-01-22</time></div><span class=post-tags>#<a href=https://blog.oddbit.com/tags/openstack/>openstack</a>&nbsp;
#<a href=https://blog.oddbit.com/tags/gerrit/>gerrit</a>&nbsp;
#<a href=https://blog.oddbit.com/tags/git/>git</a>&nbsp;</span><div class=post-content><p>It&rsquo;s a bit of an embarrassment when you submit a review to Gerrit only
to have it fail CI checks immediately because of something as simple
as a syntax error or pep8 failure that you should have caught yourself
before submitting&mldr;but you forgot to run your validations before
submitting the change.</p><p>In many cases you can alleviate this through the use of the git
<code>pre-commit</code> hook, which will run every time you commit changes
locally. You can have the hook run <code>tox</code> or whatever tool your
project uses for validation on every commit. This works okay for
simple cases, but if the validation takes more than a couple of
seconds the delay can be disruptive to the flow of your work.</p></div><div><a class="read-more button inline" href=/post/2017-01-22-making-sure-your-gerrit-change/>[read more]</a></div></article><article class="post on-list"><h1 class=post-title><a href=https://blog.oddbit.com/post/2016-02-19-a-collection-of-git-tips/>A collection of git tips</a></h1><div class=post-meta><time class=post-date>2016-02-19</time></div><span class=post-tags>#<a href=https://blog.oddbit.com/tags/git/>git</a>&nbsp;</span><div class=post-content><p>This is a small collection of simple <code>git</code> tips and tricks I use to
make my life easier.</p><h2 id=quickly-amend-an-existing-commit-with-new-files>Quickly amend an existing commit with new files</h2><p>I have this alias in place that will amend the current commit while
automatically re-using the existing commit message:</p><pre><code>alias.fix=commit --amend -C HEAD
</code></pre><p>With this in place, fixing a review becomes:</p><pre><code>$ vim some/file/somewhere
$ git add -u
$ git fix
</code></pre><p>Which I find much more convenient than <code>git commit --amend</code>, following
by saving the commit message.</p></div><div><a class="read-more button inline" href=/post/2016-02-19-a-collection-of-git-tips/>[read more]</a></div></article><article class="post on-list"><h1 class=post-title><a href=https://blog.oddbit.com/post/2015-10-19-automatic-git-cache/>Automatic git cache</a></h1><div class=post-meta><time class=post-date>2015-10-19</time></div><span class=post-tags>#<a href=https://blog.oddbit.com/tags/git/>git</a>&nbsp;</span><div class=post-content><p>This post is in response to a comment someone made on irc earlier
today:</p><blockquote><p>[I] would really like a git lookaside cache which operated on an upstream
repo, but pulled objects locally when they&rsquo;re available</p></blockquote><p>In this post I present a proof-of-concept solution to this request.
Please note that thisand isn&rsquo;t something that has actually been used
or tested anywhere!</p><p>If you access a git repository via <code>ssh</code>, it&rsquo;s easy to provide a
wrapper for git operations via the <code>command=</code> option in an
<code>authorized_keys</code> file. We can take advantage of this to update a a
local &ldquo;cache&rdquo; repository prior to responding to a <code>clone</code>/<code>pull</code>/etc.
operation.</p></div><div><a class="read-more button inline" href=/post/2015-10-19-automatic-git-cache/>[read more]</a></div></article><article class="post on-list"><h1 class=post-title><a href=https://blog.oddbit.com/post/2015-05-08-git-ssl-cipher-list/>Teach git about GIT_SSL_CIPHER_LIST</a></h1><div class=post-meta><time class=post-date>2015-05-08</time></div><span class=post-tags>#<a href=https://blog.oddbit.com/tags/git/>git</a>&nbsp;
#<a href=https://blog.oddbit.com/tags/pull-request/>pull-request</a>&nbsp;</span><div class=post-content><p>Someone named <a href=https://stackoverflow.com/users/4713895/hithard>hithard</a> on <a href=https://stackoverflow.com/>StackOverflow</a> was trying to clone a git repository via https, and was <a href=https://stackoverflow.com/a/30090725/147356>running into an odd error</a>: &ldquo;Cannot communicate securely with peer: no common encryption algorithm(s).&rdquo;. This was due to the fact that the server (<code>openhatch.org</code>) was configured to use a cipher suite that was not supported by default in the underlying SSL library (which could be either <a href=https://www.openssl.org/>OpenSSL</a> or <a href=https://developer.mozilla.org/en-US/docs/Mozilla/Projects/NSS>NSS</a>, depending on how git was built).</p><p>Many applications allow the user to configure an explicit list of ciphers to consider when negotiating a secure connection. For example, <a href=https://curl.haxx.se/>curl</a> has the <a href=https://curl.haxx.se/libcurl/c/CURLOPT_SSL_CIPHER_LIST.html>CURLOPT_SSL_CIPHER_LIST</a> option. This turns out to be especially relevant because git relies on <a href=https://curl.haxx.se/libcurl/>libcurl</a> for all of its http operations, which means all we need to do is (a) create a new configuration option for git, and then (b) pass that value through to libcurl.</p></div><div><a class="read-more button inline" href=/post/2015-05-08-git-ssl-cipher-list/>[read more]</a></div></article><article class="post on-list"><h1 class=post-title><a href=https://blog.oddbit.com/post/2015-04-10-workinghours-time-shifting-git/>Using tools badly: time shifting git commits with Workinghours</a></h1><div class=post-meta><time class=post-date>2015-04-10</time></div><span class=post-tags>#<a href=https://blog.oddbit.com/tags/git/>git</a>&nbsp;
#<a href=https://blog.oddbit.com/tags/hack/>hack</a>&nbsp;
#<a href=https://blog.oddbit.com/tags/bad_ideas/>bad_ideas</a>&nbsp;</span><div class=post-content><p>This is a terrible hack. If you are easily offended by bad ideas
implemented poorly, move along!</p><p>You are working on a wonderful open source project&mldr;but you are not
<em>supposed</em> to be working on that project! You&rsquo;re supposed to be doing
your <em>real</em> work! Unfortunately, your extra-curricular activity is
well documented in the git history of your project for all to see:</p><p><img src=/post/2015-04-10-workinghours-time-shifting-git/repo-before.png alt="Heatmap of original commit history"></p><p>And now your boss knows why the TPS reports are late. You need
<a href=https://github.com/larsks/workinghours.git>workinghours</a>, a terrible utility for doing awful things to your
repository history. <a href=https://github.com/larsks/workinghours.git>Workinghours</a> will programatically time shift
your git commits so that they appear to have happened within specified
time intervals (for example, &ldquo;between 7PM and midnight&rdquo;).</p></div><div><a class="read-more button inline" href=/post/2015-04-10-workinghours-time-shifting-git/>[read more]</a></div></article><div class=pagination><div class=pagination__buttons><a href=/tags/git/page/2/ class="button inline next">[<span class=button__text>Older posts</span>] ></a></div></div></div></div><footer class=footer><div class=footer__inner><div class="copyright copyright--user"><span>Lars Kellogg-Stedman</span>
<span>:: <a href=https://github.com/panr/hugo-theme-terminal target=_blank>Theme</a> made by <a href=https://github.com/panr target=_blank>panr</a></span></div></div></footer><script type=text/javascript src=/bundle.min.js></script><script src=/js/mermaid.min.js></script><script>mermaid.initialize({startOnLoad:!0})</script></div></body></html>