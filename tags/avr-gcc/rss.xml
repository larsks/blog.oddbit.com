<?xml version="1.0" encoding="utf-8" standalone="yes"?><rss version="2.0" xmlns:atom="http://www.w3.org/2005/Atom"><channel><title>Avr-Gcc on blog.oddbit.com</title><link>https://blog.oddbit.com/tags/avr-gcc/</link><description>Recent content in Avr-Gcc on blog.oddbit.com</description><generator>Hugo</generator><language>en</language><copyright>Lars Kellogg-Stedman</copyright><lastBuildDate>Thu, 16 Feb 2023 10:58:10 -0500</lastBuildDate><atom:link href="https://blog.oddbit.com/tags/avr-gcc/rss.xml" rel="self" type="application/rss+xml"/><item><title>AVR micro-optimization: Avr-gcc and --short-enums</title><link>https://blog.oddbit.com/post/2019-01-28-avr-gcc-short-enums/</link><pubDate>Mon, 28 Jan 2019 00:00:00 +0000</pubDate><guid>https://blog.oddbit.com/post/2019-01-28-avr-gcc-short-enums/</guid><description>&lt;h2 id="how-big-is-an-enum"&gt;How big is an enum?&lt;/h2&gt;
&lt;p&gt;I noticed something odd while browsing through the assembly output of some AVR C code &lt;a href="https://blog.oddbit.com/post/2019-01-19-pipower-a-raspberry-pi-ups/"&gt;I wrote recently&lt;/a&gt;. In the code, I have the following expression:&lt;/p&gt;
&lt;pre&gt;&lt;code&gt;int main() {
 setup();

 while (state != STATE_QUIT) {
 loop();
 }
}
&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;Here, &lt;code&gt;state&lt;/code&gt; is a variable of type &lt;code&gt;enum STATE&lt;/code&gt;, which looks something like this (not exactly like this; there are actually &lt;a href="https://github.com/larsks/pipower/blob/master/states.h"&gt;19 possible values&lt;/a&gt; but I didn&amp;rsquo;t want to clutter this post with unnecessary code listings):&lt;/p&gt;</description></item></channel></rss>