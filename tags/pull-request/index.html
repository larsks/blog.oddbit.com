<!doctype html><html lang=en><head><title>Pull-Request :: blog.oddbit.com</title><meta charset=utf-8><meta name=viewport content="width=device-width,initial-scale=1"><meta name=description content><meta name=keywords content><meta name=robots content="noodp"><link rel=canonical href=https://blog.oddbit.com/tags/pull-request/><script async src="https://www.googletagmanager.com/gtag/js?id=G-G1FYT93ENG"></script><script>var dnt,doNotTrack=!1;if(!1&&(dnt=navigator.doNotTrack||window.doNotTrack||navigator.msDoNotTrack,doNotTrack=dnt=="1"||dnt=="yes"),!doNotTrack){window.dataLayer=window.dataLayer||[];function gtag(){dataLayer.push(arguments)}gtag("js",new Date),gtag("config","G-G1FYT93ENG")}</script><link rel=stylesheet href=https://blog.oddbit.com/css/buttons.min.86f6b4c106b6c6eb690ae5203d36b442c1f66f718ff4e8164fa86cf6c61ad641.css><link rel=stylesheet href=https://blog.oddbit.com/css/code.min.d529ea4b2fb8d34328d7d31afc5466d5f7bc2f0bc9abdd98b69385335d7baee4.css><link rel=stylesheet href=https://blog.oddbit.com/css/fonts.min.5bb7ed13e1d00d8ff39ea84af26737007eb5051b157b86fc24487c94f3dc8bbe.css><link rel=stylesheet href=https://blog.oddbit.com/css/footer.min.eb8dfc2c6a7eafa36cd3ba92d63e69e849e2200e0002a228d137f236b09ecd75.css><link rel=stylesheet href=https://blog.oddbit.com/css/gist.min.a751e8b0abe1ba8bc53ced52a38b19d8950fe78ca29454ea8c2595cf26aad5c0.css><link rel=stylesheet href=https://blog.oddbit.com/css/header.min.75c7eb0e2872d95ff48109c6647d0223a38db52e2561dd87966eb5fc7c6bdac6.css><link rel=stylesheet href=https://blog.oddbit.com/css/main.min.36833afd348409fc6c3d09d0897c5833d9d5bf1ff31f5e60ea3ee42ce2b1268c.css><link rel=stylesheet href=https://blog.oddbit.com/css/menu.min.3c17467ebeb3d38663dce68f71f519901124fa5cbb4519b2fb0667a21e9aca39.css><link rel=stylesheet href=https://blog.oddbit.com/css/pagination.min.bbb986dbce00a5ce5aca0504b7925fc1c581992a4bf57f163e5d69cc1db7d836.css><link rel=stylesheet href=https://blog.oddbit.com/css/post.min.e6dddd258e64c83e05cec0cd49c05216742d42fc8ecbfbe6b67083412b609bd3.css><link rel=stylesheet href=https://blog.oddbit.com/css/syntax.min.a0773cce9310cb6d8ed23e50f005448facf29a53001b57e038828daa466b25c0.css><link rel=stylesheet href=https://blog.oddbit.com/css/terminal.min.e3b0c44298fc1c149afbf4c8996fb92427ae41e4649b934ca495991b7852b855.css><link rel=stylesheet href=https://blog.oddbit.com/css/terms.min.b81791663c3790e738e571cdbf802312390d30e4b1d8dc9d814a5b5454d0ac11.css><link rel=stylesheet href=https://blog.oddbit.com/style.css><link rel="shortcut icon" href=https://blog.oddbit.com/favicon.png><link rel=apple-touch-icon href=https://blog.oddbit.com/apple-touch-icon.png><meta name=twitter:card content="summary"><meta property="og:locale" content="en"><meta property="og:type" content="website"><meta property="og:title" content="Pull-Request"><meta property="og:description" content><meta property="og:url" content="https://blog.oddbit.com/tags/pull-request/"><meta property="og:site_name" content="blog.oddbit.com"><meta property="og:image" content="https://blog.oddbit.com/og-image.png"><meta property="og:image:width" content="1200"><meta property="og:image:height" content="627"><link href=/tags/pull-request/rss.xml rel=alternate type=application/rss+xml title=blog.oddbit.com></head><body><div class="container center"><header class=header><div class=header__inner><div class=header__logo><a href=/><div class=logo>the odd bit blog</div></a></div><ul class="menu menu--mobile"><li class=menu__trigger>Menu&nbsp;▾</li><li><ul class=menu__dropdown><li><a href=/>/</a></li><li><a href=https://oddbit.com>/about</a></li><li><a href=/posts>/posts</a></li><li><a href=/tags>/tags</a></li><li><a href=/archive>/archive</a></li><li><a href=/rss.xml>/feed</a></li><li><a href=https://github.com/larsks>→Github</a></li><li><a href=https://hachyderm.io/@larsks>→Mastodon</a></li><li><a href=https://twitter.com/larsks>→Twitter</a></li></ul></li></ul></div><nav class=navigation-menu><ul class="navigation-menu__inner menu--desktop"><li><a href=/>/</a></li><li><a href=https://oddbit.com>/about</a></li><li><a href=/posts>/posts</a></li><li><a href=/tags>/tags</a></li><li><a href=/archive>/archive</a></li><li><a href=/rss.xml>/feed</a></li><li><ul class=menu><li class=menu__trigger>&nbsp;▾</li><li><ul class=menu__dropdown><li><a href=https://github.com/larsks>→Github</a></li><li><a href=https://hachyderm.io/@larsks>→Mastodon</a></li><li><a href=https://twitter.com/larsks>→Twitter</a></li></ul></li></ul></li></ul></nav></header><div class=content><h1>Posts for: #Pull-Request</h1><div class=posts><article class="post on-list"><h1 class=post-title><a href=https://blog.oddbit.com/post/2019-04-26-adding-support-for-privilege-e/>Adding support for privilege escalation to Ansible&rsquo;s docker connection driver</a></h1><div class=post-meta><time class=post-date>2019-04-26</time></div><span class=post-tags>#<a href=https://blog.oddbit.com/tags/ansible/>ansible</a>&nbsp;
#<a href=https://blog.oddbit.com/tags/pull-request/>pull-request</a>&nbsp;</span><div class=post-content><p><strong>Update 2019-05-09</strong> Pull request
<a href=https://github.com/ansible/ansible/pull/55816 class=pull-request>#55816</a>
has merged, so you can now use <code>sudo</code> with the <code>docker</code> connection driver even when <code>sudo</code> is configured to require a password.</p><hr><p>I often use Docker to test out Ansible playbooks. While normally that works great, I recently ran into an unexpected problem with privilege escalation. Given a simple playbook like this:</p><pre><code>---
- hosts: all
  gather_facts: false
  become: true
  tasks:
    - ping:
</code></pre><p>And an inventory like this:</p></div><div><a class="read-more button inline" href=/post/2019-04-26-adding-support-for-privilege-e/>[read more]</a></div></article><article class="post on-list"><h1 class=post-title><a href=https://blog.oddbit.com/post/2018-10-19-integrating-bitwarden-with-ans/>Integrating Bitwarden with Ansible</a></h1><div class=post-meta><time class=post-date>2018-10-19</time></div><span class=post-tags>#<a href=https://blog.oddbit.com/tags/bitwarden/>bitwarden</a>&nbsp;
#<a href=https://blog.oddbit.com/tags/security/>security</a>&nbsp;
#<a href=https://blog.oddbit.com/tags/ansible/>ansible</a>&nbsp;
#<a href=https://blog.oddbit.com/tags/pull-request/>pull-request</a>&nbsp;</span><div class=post-content><p><a href=https://bitwarden.com>Bitwarden</a> is a password management service (like <a href=https://www.lastpass.com/>LastPass</a> or
<a href=https://1password.com/>1Password</a>). It&rsquo;s unique in that it is built entirely on open
source software. In addition to the the web UI and mobile apps that
you would expect, Bitwarden also provides a <a href=https://help.bitwarden.com/article/cli/>command-line tool</a> for
interacting with the your password store.</p><p>At $WORK(-ish) we&rsquo;re looking into Bitwarden because we want a password
sharing and management solution that was better than dropping files
into directories on remote hosts or sharing things over Slack. At
the same time, we are also thinking about bringing more automation to
our operational environment, possibly by making more extensive use of
<a href=https://ansible.com>Ansible</a>. It looked like all the pieces were available to use
Bitwarden as a credential storage mechanism for Ansible playbooks, so
I set out to write a lookup plugin to implement the integration&mldr;</p></div><div><a class="read-more button inline" href=/post/2018-10-19-integrating-bitwarden-with-ans/>[read more]</a></div></article><article class="post on-list"><h1 class=post-title><a href=https://blog.oddbit.com/post/2016-02-08-a-systemd-nspawn-connection-dr/>A systemd-nspawn connection driver for Ansible</a></h1><div class=post-meta><time class=post-date>2016-02-08</time></div><span class=post-tags>#<a href=https://blog.oddbit.com/tags/ansible/>ansible</a>&nbsp;
#<a href=https://blog.oddbit.com/tags/systemd/>systemd</a>&nbsp;
#<a href=https://blog.oddbit.com/tags/pull-request/>pull-request</a>&nbsp;</span><div class=post-content><p>I wrote <a href=https://blog.oddbit.com/post/2016-02-07-systemd-nspawn-for-fun-and-wel/>earlier</a> about <a href=https://www.freedesktop.org/software/systemd/man/systemd-nspawn.html>systemd-nspawn</a>, and how it can take much
of the fiddly work out of setting up functional <code>chroot</code> environments.
I&rsquo;m a regular <a href=http://ansible.com/>Ansible</a> user, and I wanted to be able to apply some
of those techniques to my playbooks.</p><p>Ansible already has a <code>chroot</code> module, of course, but for some
situations &ndash; such as targeting an emulated <code>chroot</code> environment &ndash;
that just means a lot of extra work. Using <code>systemd-nspawn</code> makes
this trivial.</p></div><div><a class="read-more button inline" href=/post/2016-02-08-a-systemd-nspawn-connection-dr/>[read more]</a></div></article><article class="post on-list"><h1 class=post-title><a href=https://blog.oddbit.com/post/2016-02-07-folding-long-lines-in-ansible-/>Folding long lines in Ansible inventory files</a></h1><div class=post-meta><time class=post-date>2016-02-07</time></div><span class=post-tags>#<a href=https://blog.oddbit.com/tags/ansible/>ansible</a>&nbsp;
#<a href=https://blog.oddbit.com/tags/pull-request/>pull-request</a>&nbsp;</span><div class=post-content><p>If you have an Ansible inventory file that includes lots of per host
variables, it&rsquo;s not unusual for lines to get long enough that they
become unwieldly, particularly if you want to discuss them in an email
or write about them in some context (e.g., a blog post).</p><p>I&rsquo;ve just submitted pull request <a href=https://github.com/ansible/ansible/pull/14359>#14359</a> to Ansible which
implements support for folding long lines using the INI-format
convention of using indent to mark extended logical lines.</p></div><div><a class="read-more button inline" href=/post/2016-02-07-folding-long-lines-in-ansible-/>[read more]</a></div></article><article class="post on-list"><h1 class=post-title><a href=https://blog.oddbit.com/post/2015-10-26-ansible-20-new-openstack-modul/>Ansible 2.0: New OpenStack modules</a></h1><div class=post-meta><time class=post-date>2015-10-26</time></div><span class=post-tags>#<a href=https://blog.oddbit.com/tags/ansible/>ansible</a>&nbsp;
#<a href=https://blog.oddbit.com/tags/openstack/>openstack</a>&nbsp;
#<a href=https://blog.oddbit.com/tags/ansible_20_series/>ansible_20_series</a>&nbsp;
#<a href=https://blog.oddbit.com/tags/pull-request/>pull-request</a>&nbsp;</span><div class=post-content><p>This is the second in a loose sequence of articles looking at new
features in Ansible 2.0. In the previous article I looked at the
<a href=https://blog.oddbit.com/post/2015-10-13-ansible-20-the-docker-connecti/>Docker connection driver</a>. In this article, I would like to
provide an overview of the new-and-much-improved suite of modules for
interacting with an <a href=http://www.openstack.org/>OpenStack</a> environment, and provide a few
examples of their use.</p><p>In versions of Ansible prior to 2.0, there was a small collection of
OpenStack modules. There was the minimum necessary to boot a Nova
instance:</p></div><div><a class="read-more button inline" href=/post/2015-10-26-ansible-20-new-openstack-modul/>[read more]</a></div></article><article class="post on-list"><h1 class=post-title><a href=https://blog.oddbit.com/post/2015-05-08-git-ssl-cipher-list/>Teach git about GIT_SSL_CIPHER_LIST</a></h1><div class=post-meta><time class=post-date>2015-05-08</time></div><span class=post-tags>#<a href=https://blog.oddbit.com/tags/git/>git</a>&nbsp;
#<a href=https://blog.oddbit.com/tags/pull-request/>pull-request</a>&nbsp;</span><div class=post-content><p>Someone named <a href=https://stackoverflow.com/users/4713895/hithard>hithard</a> on <a href=https://stackoverflow.com/>StackOverflow</a> was trying to clone a git repository via https, and was <a href=https://stackoverflow.com/a/30090725/147356>running into an odd error</a>: &ldquo;Cannot communicate securely with peer: no common encryption algorithm(s).&rdquo;. This was due to the fact that the server (<code>openhatch.org</code>) was configured to use a cipher suite that was not supported by default in the underlying SSL library (which could be either <a href=https://www.openssl.org/>OpenSSL</a> or <a href=https://developer.mozilla.org/en-US/docs/Mozilla/Projects/NSS>NSS</a>, depending on how git was built).</p><p>Many applications allow the user to configure an explicit list of ciphers to consider when negotiating a secure connection. For example, <a href=https://curl.haxx.se/>curl</a> has the <a href=https://curl.haxx.se/libcurl/c/CURLOPT_SSL_CIPHER_LIST.html>CURLOPT_SSL_CIPHER_LIST</a> option. This turns out to be especially relevant because git relies on <a href=https://curl.haxx.se/libcurl/>libcurl</a> for all of its http operations, which means all we need to do is (a) create a new configuration option for git, and then (b) pass that value through to libcurl.</p></div><div><a class="read-more button inline" href=/post/2015-05-08-git-ssl-cipher-list/>[read more]</a></div></article><article class="post on-list"><h1 class=post-title><a href=https://blog.oddbit.com/post/2014-09-01-docker-plugin-bugs/>Docker plugin bugs</a></h1><div class=post-meta><time class=post-date>2014-09-01</time></div><span class=post-tags>#<a href=https://blog.oddbit.com/tags/openstack/>openstack</a>&nbsp;
#<a href=https://blog.oddbit.com/tags/docker/>docker</a>&nbsp;
#<a href=https://blog.oddbit.com/tags/heat/>heat</a>&nbsp;
#<a href=https://blog.oddbit.com/tags/pull-request/>pull-request</a>&nbsp;</span><div class=post-content><p>This is a companion to my <a href=https://blog.oddbit.com/post/2014-08-30-docker-plugin-for-openstack-he/>article on the Docker plugin for Heat</a>.</p><p>While writing that article, I encountered a number of bugs in the
Docker plugin and elsewhere. I&rsquo;ve submitted patches for most of the
issues I encountered:</p><h2 id=bugs-in-the-heat-plugin>Bugs in the Heat plugin</h2><ul><li><p><a href=https://bugs.launchpad.net/heat/+bug/1364017>https://bugs.launchpad.net/heat/+bug/1364017</a></p><p>docker plugin fails to delete a container resource in
<code>CREATE_FAILED</code> state.</p></li><li><p><a href=https://bugs.launchpad.net/heat/+bug/1364041>https://bugs.launchpad.net/heat/+bug/1364041</a></p><p>docker plugin <code>volumes_from</code> parameter should be a list.</p></li><li><p><a href=https://bugs.launchpad.net/heat/+bug/1364039>https://bugs.launchpad.net/heat/+bug/1364039</a></p><p>docker plugin <code>volumes_from</code> parameter results in an error</p></div><div><a class="read-more button inline" href=/post/2014-09-01-docker-plugin-bugs/>[read more]</a></div></article><article class="post on-list"><h1 class=post-title><a href=https://blog.oddbit.com/post/2014-08-30-docker-plugin-for-openstack-he/>Docker plugin for OpenStack Heat</a></h1><div class=post-meta><time class=post-date>2014-08-30</time></div><span class=post-tags>#<a href=https://blog.oddbit.com/tags/docker/>docker</a>&nbsp;
#<a href=https://blog.oddbit.com/tags/openstack/>openstack</a>&nbsp;
#<a href=https://blog.oddbit.com/tags/heat/>heat</a>&nbsp;
#<a href=https://blog.oddbit.com/tags/orchestration/>orchestration</a>&nbsp;
#<a href=https://blog.oddbit.com/tags/pull-request/>pull-request</a>&nbsp;</span><div class=post-content><p>I have been looking at both Docker and OpenStack recently. In my <a href=https://blog.oddbit.com/post/2014-08-28-novadocker-and-environment-var/>last
post</a> I talked a little about the <a href=https://github.com/stackforge/nova-docker>Docker driver for Nova</a>; in
this post I&rsquo;ll be taking an in-depth look at the Docker plugin for
Heat, which has been available <a href=https://blog.docker.com/2014/03/docker-will-be-in-openstack-icehouse/>since the Icehouse release</a> but is
surprisingly under-documented.</p><p>The <a href=https://blog.docker.com/2014/03/docker-will-be-in-openstack-icehouse/>release announcement</a> on the Docker blog includes an
example Heat template, but it is unfortunately grossly inaccurate and
has led many people astray. In particular:</p></div><div><a class="read-more button inline" href=/post/2014-08-30-docker-plugin-for-openstack-he/>[read more]</a></div></article><div class=pagination><div class=pagination__buttons></div></div></div></div><footer class=footer><div class=footer__inner><div class="copyright copyright--user"><span>Lars Kellogg-Stedman</span>
<span>:: <a href=https://github.com/panr/hugo-theme-terminal target=_blank>Theme</a> made by <a href=https://github.com/panr target=_blank>panr</a></span></div></div></footer><script type=text/javascript src=/bundle.min.js></script><script src=/js/mermaid.min.js></script><script>mermaid.initialize({startOnLoad:!0})</script></div></body></html>